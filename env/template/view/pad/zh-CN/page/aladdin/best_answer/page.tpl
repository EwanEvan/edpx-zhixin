{%extends 'c_base.tpl'%} {%block name="title"%}{%/block%}{%block name="foot"%}{%/block%}{%block name='data_modifier'%} {%if !$tplData.result[0]%} {%$tplData.result = array($tplData.result)%} {%*适配kv数据*%} {%/if%} {%if $tplData.StdStg_new == '1532'%} {%*ac数据*%} {%$extData.feData.fm ='as'%} {%/if%} {%$extData.OriginQuery = ($extData.OriginQuery) ? $extData.OriginQuery : $queryInfo.wordNoSyntax%} {%if $tplData.result[0].type == "1"%} {%$viewType = 1%} {%else%} {%$viewType = 0%} {%/if%} {%*$viewType 模版展现模式 0=答案更多跳转模式 1=答案展开全部模式(title隐藏)*%}{%/block%}{%block name='content'%}<style data-merge>{%fe_fn_c_css css='img'%}.op_best_answer_answer a,.op_best_answer_source a,.op_best_answer_ext a{text-decoration:none}.op_best_answer_answer a:hover,.op_best_answer_source a:hover,.op_best_answer_ext a:hover{text-decoration:underline}.op_best_answer_question,.op_best_answer_answer{font-size:1.07em;line-height:1.9em}.op_best_answer_icon{width:16px;float:left}.op_best_answer_icon i{*margin-top:6px}.op_best_answer_content{width:560px;float:left}.op_best_answer_content p{word-wrap:break-word}.op_best_answer_img{float:left}.{%*i*%}op_best_answer_question_link{font-size:1.15em}#bds-container .op_best_answer_question .op_best_answer_content p a,#bds-container .op_best_answer_question .op_best_answer_content p a:hover{color:#333;text-decoration:none}#bds-container .op_best_answer_question .op_best_answer_content p a em{text-decoration:none}#bds-container .op_best_answer_question .op_best_answer_content .op_best_answer_question_problemExt{font-size:.92em;color:#666;line-height:1.54em}#bds-container .op_best_answer_question .o{%*i*%}p_best_answer_content .op_best_answer_question_problemExt a,#bds-container .op_best_answer_question .op_best_answer_content .op_best_answer_question_problemExt a:hover{color:#666}.op_best_answer_answer_more{color:#00c;font-family:SimSun;white-space:nowrap;cursor:pointer}.op_best_answer_source{color:#999;text-align:right;font-size:.92em;margin-bottom:-3px}.op_best_answer_source a{color:#999}.op_best_answer_source_sep{color:#ccc;margin:0 8px}.op_best_answer_ext{border-top:1px solid #ebebeb}.op_bes{%*i*%}t_answer_otheranswer{color:#999}.op_best_answer_otheranswer a{color:#00c}.op_best_answer_otheranswer a em{text-decoration:none}.op_best_answer_otheranswer a:hover em{text-decoration:underline}.op_best_answer_otheranswer span{font-size:.92em}.op_best_answer_moreanswer{margin:2px 0 -2px 0}.op_best_answer_moreanswer a{font-family:SimSun;color:#77c}</style><div class="c-border">  <div class="op_best_answer_question c-row"> <div class="op_best_answer_icon c-gap-right"><i class="c-text c-text-safe">问</i{%*i*%}></div> <div class="op_best_answer_content"> {%if $viewType == 0%}  {%$titleLimitlen = 54 - $tplData.result[0].sourcetitle|string_display_len%} <a class="op_best_answer_question_link" href="{%$tplData.result[0].questionurl%}" title="{%$tplData.result[0].question|escape:'html'%}" target="_blank">{%$tplData.result[0].question|limitlen:$titleLimitlen|escape:'html'|highlight:0%}{%if $tplData.result[0].sourcetitle%}_{%$tplData.result[0].sourcetitle|escape:'html'%}{%/if%}</a> {%/if%} {%if $tplData.result[0].problemExt%}  {%if !is_array($tplData.result[0].problemExt)%}{%$tplData.result[0].problemExt = [$tplData.result[0].problemExt]%}{%/if%} {%$problemLength = 0%} {%foreach array_slice($tplData.result[0].problemExt, 0, 6) as $item%} {%$problemLength = $problemLength + $item|string_display_len%} {%if $problemLength <= 200%} <p {%if $viewType == 0%}class="op_best_answer_question_problemExt"{%/if%}><a href="{%$tplData.result[0].questionurl%}" target="_blank">{%$item|regex_replace:"/\s/":"&nbsp;"|highlight:0%}{%if $item@index == 5%}…{%/if%}</a></p> {%else%} {%$problemLimitlen = 200 + $item|string_display_len - $problemLength%} {%$problemLimitlen = ($problemLimitlen < 20) ? 20 : $problemLimitlen%} <p {%if $viewType == 0%}class="op_best_answer_question_problemExt"{%/if%}><a href="{%$tplData.result[0].questionurl%}" target="_blank">{%$item|limitlen:$problemLimitlen|regex_replace:"/\s/":"&nbsp;"|highlight:0%}</a></p> {%break%} {%/if%} {%/foreach%} {%/if%} </div> </div>  <div class="op_best_answer_answer c-row c-gap-top-small"> <div class="op_best_answer_icon c-gap-right"><i class="c-text c-text-important">答</i></div> <div class="op_best_answer_content"> {%if !is_array($tplData.result[0].answer)%}{%$tplData.result[0].answer = [$tplData.result[0].answer]%}{%/if%} {%if $tplData.result[0].answerPic || $tplData.result[0].problemPic%}  <a href="{%$tplData.result[0].questionurl%}" target="_blank"><img class="op_best_answer_img c-img c-img6 c-gap-right c-gap-top-small" style="height:{%fe_fn_c_get_img_height col=6 rate=3/4 border=1%}px;" src="{%if $tplData.result[0].answerPic%}{%$tplData.result[0].answerPic%}{%else%}{%$tplData.result[0].problemPic%}{%/if%}"/></a> {%/if%} {%$answerLength = 0%}  {%foreach array_slice($tplData.result[0].answer, 0, 6) as $item%} {%$answerLength = $answerLength + $item|string_display_len%} {%if $answerLength <= 190%} <p>{%$item|regex_replace:'/\s/':'　'|escape|replace:'　':'&nbsp;'%}{%if $item@last%}{%if $item@index == 5%}…{%/if%}<span class="op_best_answer_answer_more c-gap-left-small"><a href="{%$tplData.result[0].questionurl%}" target="_blank">详情&gt;&gt;</a></span>{%/if%}</p> {%else%} {%$answerLimitlen = 190 + $item|string_display_len - $answerLength%} {%$answerLimitlen = ($answerLimitlen < 20) ? 20 : $answerLimitlen%} <p>{%$item|limitlen:$answerLimitlen|regex_replace:'/\s/':'　'|escape|replace:'　':'&nbsp;'%}<span class="op_best_answer_answer_more c-gap-left-small"><a href="{%$tplData.result[0].questionurl%}" target="_blank">详情&gt;&gt;</a></span></p> {%break%} {%/if%} {%/foreach%} </div> </div>  <div class="op_best_answer_source"> {%if $tplData.result[0].sourcetitle%}来自<a href="{%if $tplData.result[0].sourceurl%}{%$tplData.result[0].sourceurl%}{%else%}{%$tplData.result[0].questionurl%}{%/if%}" target="_blank">{%$tplData.result[0].sourcetitle|escape:'html'%}</a><span class="op_best_answer_source_sep">|</span>{%/if%}<a class="op_best_answer_feedback OP_LOG_BTN" href="javascript:;" data-click="{info:'报错'}">报错</a> </div>  {%if $viewType == 0 && $tplData.result[0].moreanswerurl%} <div class="op_best_answer_ext c-gap-top"> {%if $tplData.result[0].otheranswer%} {%if !is_array($tplData.result[0].otheranswer[0])%} {%$tplData.result[0].otheranswer = [$tplData.result[0].otheranswer]%} {%/if%} {%foreach array_slice($tplData.result[0].otheranswer, 0, 2) as $item%} <p class="op_best_answer_otheranswer {%if $item@first%}c-gap-top-small{%/if%}"> <a href="{%$item.url%}" title="{%$item.name|escape:'html'%}" target="_blank">{%$item.name|limitlen:50|highlight:0%}</a>{%if $item.number%}&nbsp;<span>{%$item.number|escape:'html'%}个回答</span>{%elseif $item.source%}&nbsp;<span>{%$item.source|escape:'html'%}</span>{%/if%}{%if $item.date%}&nbsp;<span>{%$item.date|escape:'html'%}</span>{%/if%} </p> {%/foreach%} {%/if%} <p class="op_best_answer_moreanswer"><a href="{%$tplData.result[0].moreanswerurl%}{%$extData.OriginQuery%}" target="_blank">更多相关问答&gt;&gt;</a></p> </div> {%/if%}</div><script data-merge>A.setup(function(){var Ala = this;Ala.find('.op_best_answer_feedback').on('click', function(){$(this).replaceWith('<span>感谢反馈</span>');});});</script>{%/block%}