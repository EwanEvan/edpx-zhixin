{%extends 'c_base.tpl'%} {%block name='data_modifier'%} {%$extData.feData.hasTitleGap=false%}{%/block%}{%block name='content'%}<style data-merge>{%fe_fn_c_css css='btn'%}.op_translation_main,.op_translation_canvas textarea{font-size:13px}.op_translation_usertip,.op_translation_canvas{margin-top:3px}.op_translation_usertip{font-weight:bold}.op_translation_searchbtn,.op_translation_act{vertical-align:middle}.op_translation_searchbtn{display:inline-block}.op_translation_canvas textarea{word-wrap:break-word;word-break:keep-all;line-height:20px;padding:2px;font-family:arial,simsun;resize:none;overflow-y:hidden;border:1px solid #999;border-color:#999 #d8d8d8 #d8d8d8 #{%*i*%}999;outline:0}.op_translation_select{position:relative;overflow:hidden;margin:4px 0;*zoom:1;float:left;display:inline;margin-right:30px}.op_translation_text_default{color:#acacac}.op_translation_text_normal{color:#000}.op_translation_textbg{background:url(http://www.baidu.com/aladdin/img/translation/watermark.png) no-repeat 437px bottom}.op_translation_titlebg{background:url(http://www.baidu.com/aladdin/img/safe/logo.gif) no-repeat left 1px;padding-left:20px;*background-position:left 2px}.op_tra{%*i*%}nslation_download{width:150px;padding:0 0 2px 125px;*zoom:1;float:left;display:inline;margin-top:7px;position:relative}.op_translation_download .op_translation_download_tit{position:absolute;left:0;top:1px;color:#666}.op_translation_download_box{position:relative;font-size:13px;*zoom:1}.op_translation_download_box li{overflow:hidden;position:relative;display:inline-block;*display:inline;height:20px;line-height:20px;margin:0 -3px 0 0;*margin-right:0;padding:0 10px 0 18px;vertical-align:bottom;*zo{%*i*%}om:1}.op_translation_download_icon{position:absolute;left:0;top:3px;display:block;width:12px;height:14px;background:url(http://www.baidu.com/aladdin/img/translation/tran_down_icon.png) -1px -18px no-repeat}.op_translation_download_icon_ios{top:1px;width:13px;height:15px;background-position:-16px -17px}.op_translation_download_icon_ot{width:11px;background-position:-32px -18px}.op_translation_download_icon_pc{width:14px;background-position:-46px -19px}.op_translation_download_on .op_translation_d{%*i*%}ownload_icon_ad{background-position:-1px -1px}.op_translation_download_on .op_translation_download_icon_ios{background-position:-16px 0}.op_translation_download_on .op_translation_download_icon_ot{background-position:-32px -1px}.op_translation_download_on .op_translation_download_icon_pc{background-position:-46px -2px}.op_translation_download_box .op_translation_gap{float:left;display:inline;margin:3px 0 0;text-align:center;color:#adadad;*zoom:1}.op_translation_download_link{float:left;display:i{%*i*%}nline;white-space:nowrap;text-decoration:underline;color:#666}.op_translation_download_link:hover{color:#00C}.op_translation_operation{height:26px;line-height:24px;position:relative;z-index:100}.op_translation_selbox{float:left;display:inline;position:relative;z-index:100}.op_translation_selfrom,.op_translation_selto{height:24px;padding:0 32px 0 9px;padding-left:9px;border:1px solid #999;border-color:#999 #d8d8d8 #d8d8d8 #999;background-image:url(http://www.baidu.com/aladdin/img/translation/fy1.{%*i*%}png);background-position:right top;color:#333;background-repeat:no-repeat;cursor:pointer;text-decoration:none;display:inline-block}.op_translation_selhover{background-position:right -24px}.op_translation_selfrom:hover,.op_translation_selto:hover{background-position:right -24px}.op_translation_sel_exchange{width:24px;height:24px;border:1px solid #d8d8d8;float:left;display:inline;cursor:pointer;background-color:#f9f9f9}.op_translation_sel_exchange:hover{border-color:#388bff}.op_translation_sel_exc{%*i*%}hange:active{border-color:#a2a6ab;background-color:#f0f0f0}.op_translation_sel_exchange .c-icon-exchange{margin:6px 0 0 6px}.op_translation_sel_echover:hover{background-position:-24px -48px;border:1px solid #279cf1}.op_translation_operation a.op_translation_sel_ecclick{background-position:-48px -48px;border:1px solid #a3a7ac}.op_translation_lagfrom,.op_translation_lagto{height:60px;padding:2px 0;position:absolute;border:1px solid #bbb;left:0;top:26px;background:#fff;box-shadow:1px 1px 2px rgba(0{%*i*%},0,0,0.15);border-color:#bbb #bdbdbd #c0c0c0 #bbb;display:none;z-index:100}.op_translation_lagtip_data td{word-break:keep-all;white-space:nowrap}.op_translation_lagtip_data a.op_translation_lag_seldata{background:#f5f5f5}.op_translation_lagtip_data a{height:30px;line-height:30px;color:#999;display:block;padding:0 12px;overflow:hidden;text-decoration:none}.op_translation_lagtip_data a.op_translation_lag_data{cursor:pointer;color:#333}.op_translation_lagtip_data a.op_translation_lag_data:hover{bac{%*i*%}kground:#f5f5f5}.op_translation_clear{display:block;clear:both;width:0;height:0;font-size:0;overflow:hidden}.op_translation_new .op_translation_act{display:none}</style><div class="op_translation_main"> {%if $tplData.content1%} <div>{%$tplData.content1|highlight:0%}</div> {%/if%} {%if $tplData.usertip%} <div class="op_translation_usertip">{%$tplData.usertip|escape:'html'%}</div> {%/if%} <div class="op_translation_canvas"> <form action="{%$tplData.form[0]['action']|escape:'html'%}" method="{%$tplData.form[0]['method']|escape:'html'%}" name="{%$tplData.form[0]['name']|escape:'html'%}" class="op_translation_form" target="{%$tplData.form[0]['target']|escape:'html'%}" autocomplete="off" accept-charset="{%$tplData.form[0]['postEncode']|escape:'html'%}"> <div class="op_translation_inputs"> <div class="op_translation_text_div" > <textarea   class="op_translation_text op_translation_textbg"  name="{%$tplData.textarea[0]['name']|escape:'html'%}" rows="{%$tplData.textarea[0]['rows']|escape:'html'%}" tip="{%$tplData.textarea[0]['tip']|escape:'html'%}" style="width:534px;"></textarea> </div> {%$loop_maxcount=count($tplData.para)%}{%for $op_loop_count=0 to 9%}{%if $op_loop_count<$loop_maxcount%} <input type="hidden" name="{%$tplData.para[$op_loop_count]['name']|escape:'html'%}" value="{%$tplData.para[$op_loop_count]['value']|escape:'html'%}"> {%else%}{%break%}{%/if%}{%/for%} </div> {%if !$tplData.action[0]['ex']%} <div class="op_translation_select" {%if $tplData.button[0]['align']%}style="text-align:{%$tplData.button[0]['align']|escape:'html'%}"{%/if%}> <span> <select class="op_translation_act c-gap-right-small" name="{%$tplData.actionName|escape:'html'%}"> {%$loop_maxcount=count($tplData.action)%}{%for $op_loop_count=0 to 9%}{%if $op_loop_count<$loop_maxcount%} <option value="{%$tplData.action[$op_loop_count]['value']|escape:'html'%}" {%if $tplData.action[$op_loop_count]['selected']%}selected="selected"{%/if%}> {%$tplData.action[$op_loop_count]['title']|escape:'html'%} </option> {%else%}{%break%}{%/if%}{%/for%} </select> </span> <span class="op_translation_searchbtn"> <a class="c-btn c-btn-primary op_translation_btn OP_LOG_BTN" href="#" >{%$tplData.button[0]['title']|escape:'html'%}</a></span> </div> {%else%} <div class="op_translation_new c-gap-top"> <div class="op_translation_operation"> <div class="op_translation_selbox c-gap-right-small"> <a class="op_translation_selfrom OP_LOG_OTHERS" href="#" onclick="return false;">源语言：<span class="op_translation_fromdata" data-lang="auto" tip="">自动检测</span></a><div class="op_translation_lagfrom" > <table class="op_translation_lagtip_data" cellpadding="0" cellspacing="0"> <tbody> <tr> {%foreach $tplData.action as $item%} {%if $item@key==ceil($tplData.action|@count/2) %}</tr><tr>{%/if%} <td><a value="{%$item.value %}"  tip="{%$item.ex%}" class="op_translation_lag_data {%if $item.fromsel=='selected'%} op_translation_lag_seldata{%/if%} OP_LOG_OTHERS" href="#" onclick="return false;">{%$item.title|limitlen:12 %}</a></td> {%/foreach%} </tr> </tbody> </table> </div> </div> <a class="c-gap-right-small op_translation_sel_exchange OP_LOG_OTHERS" href="#" onclick="return false;"><i class="c-icon c-icon-exchange"></i></a> <div class="op_translation_selbox c-gap-right"> <a class="op_translation_selto OP_LOG_OTHERS"  href="#" onclick="return false;">目标语言：<span class="op_translation_todata" data-lang="zh" tip=''>中文</span></a><div class="op_translation_lagto"  > <table class="op_translation_lagtip_data" cellpadding="0" cellspacing="0"{%*i*%}> <tbody> <tr> {%$tempDataCnt=0 %} {%if $tplData.action[0].value=='auto' %} {%$tempDataCnt=ceil(($tplData.action|@count-1)/2)+1 %} {%/if%} {%foreach $tplData.action as $item%} {%if $item.value!='auto' %} {%if $item@key==$tempDataCnt %}</tr><tr>{%/if%} <td><a value="{%$item.value %}" tip="{%$item.ex%}"  class="{%if $item.tosel=='selected'%}op_translation_lag_seldata{%/if%} OP_LOG_OTHERS" href="#" onclick="return false;">{%$item.title|limitlen:12 %}</a> </td> {%/if%} {%/foreach%} </tr> </tbody> </table> </div> </div> <a href="#" class="c-btn c-btn-primary op_translation_btn  OP_LOG_BTN" onclick="return false;">{%$tplData.button[0]['title']|limitlen:12|escape:'html'%}</a><span class="op_translation_clear"></span></div> <select class="op_translation_act c-gap-right-small" name="{%$tplData.actionName|escape:'html'%}"> <option value="" selected="selected"></option> </select> </div> {%/if%} {%if $tplData.cont%} <div class="op_translation_download"> <span class="op_translation_download_tit">{%$tplData.cont|limitlen:18|escape:'html'%}:</span> <ul  class="op_translation_download_box"> {%if $tplData.androidlink%} <li> <i class="op_translation_download_icon op_translation_download_icon_ad"></i> <a href="{%$tplData.androidlink[0]['link1']|escape:'html'%}" class="op_translation_download_link OP_LOG_LINK">{%$tplData.androidlink[0]['txt1']|limitlen:20|escape:'html'%}</a> {%if $tplData.androidlink[0]['txt2']%} <span class="op_translation_gap">丨</span> <a href="{%$tplData.androidlink[0]['link2']|escape:'html'%}" class="op_translation_download_link OP_LOG_LINK">{%$tplData.androidlink[0]['txt2']|limitlen:20|escape:'html'%}</a> {%/if%} </li> {%/if%} {%if $tplData.ioslink%} <li> <i class="op_translation_download_icon op_translation_download_icon_ios"></i> <a href="{%$tplData.ioslink[0]['link1']|escape:'html'%}" class="op_translation_download_link OP_LOG_LINK" target="_blank">{%$tplData.ioslink[0]['txt1']|limitlen:20|escape:'html'%}</a> {%if $tplData.ioslink[0]['txt2']%} <span class="op_translation_gap">丨</span> <a href="{%$tplData.ioslink[0]['link2']|escape:'html'%}" class="op_translation_download_link OP_LOG_LINK" target="_blank">{%$tplData.ioslink[0]['txt2']|limitlen:20|escape:'html'%}</a> {%/if%} </li> {%/if%} </ul> </div> {%/if%} <div class="op_translation_clear"></div> </form> </div></div><script>A.setup(function() {var _this = this;var tstimer = null;var op_translation_expand = '{%if $tplData.textarea[0]['expand']%}{%$tplData.textarea[0]['expand']|escape:'html'%}{%/if%}';var op_translation_usetip = '{%if $tplData.textarea[0]['useTip']%}{%$tplData.textarea[0]['useTip']|escape:'html'%}{%/if%}';var op_translation_min = '{%$tplData.textarea[0]['rows']|escape:'html'%}';var op_translation_max = '{%$tplData.textarea[0]['expandRows']|escape:'html'%}';var op_translation_action = '{%$tplData.form[0]['action']|escape:'html'%}';var op_translation_action1 = '{%$tplData.form[0]['action1']|escape:'html'%}';var op_translation_charcode = '{%$tplData.form[0]['postEncode']|escape:'html'%}';var textObj = _this.find('.op_translation_text').get(0);var formObj = _this.find('.op_translation_form').get(0);var selectObj = _this.find('.op_translation_act').get(0);var aObj = _this.find('.op_translation_btn').eq(0);var opnew= _this.find('.op_translation_new').eq(0);if (op_translation_usetip != '') {if (textObj.value == '') {setTextDefault(textObj);}$(textObj).on('blur', function() {if (textObj.value == '') {setTextDefault(textObj);}});$(textObj).on('focus', function() {if (textObj.classNa{%*i*%}me == 'op_translation_text_default') {textObj.value = '';setTextNormal(textObj);}});}var downloadBox=_this.find('.op_translation_download_box').get(0);if(downloadBox){var tranDownloadList = downloadBox.getElementsByTagName('li');for (var i = 0, l = tranDownloadList.length; i < l; i++) {tranDownloadList[i].onmouseover = function(){for (var j = 0, l = tranDownloadList.length; j < l; j++) {tranDownloadList[j].className = '';}this.className = 'op_translation_download_on';};tranDownloadList[i].onmous{%*i*%}eout = function(){for (var j = 0, l = tranDownloadList.length; j < l; j++) {tranDownloadList[j].className = '';}};};}function removeTextTip(obj) {var useTip = obj.getAttribute('tip');if (useTip && useTip == obj.value) {obj.value = '';return false;} else {return true;}}function setTextDefault(obj) {if (obj) {obj.className = 'op_translation_text_default';obj.value = obj.getAttribute('tip');}}function setTextNormal(obj) {if (obj && obj.value != obj.getAttribute('tip')) {obj.className = 'op_translat{%*i*%}ion_text_normal';} else {setTextDefault(obj);}}var op_min = op_translation_min * 20;var op_max = op_translation_max * 20;if (op_translation_expand != '') {var delta = 6;var div = _this.find('.op_translation_text_div').get(0);textObj.style.height = op_min + 'px';div.style.height = (op_min + delta) + 'px';$(textObj).on('keyup',autofix);$(textObj).on('onmouseup',autofix);$(textObj).on('onmousedown',autofix);$(textObj).on('onkeydown',autofix);}function autofix() {textObj.style.height = op_min + 'px'{%*i*%};var h = textObj.scrollHeight;if (h < op_min) h = op_min;if (h > op_max) {h = op_max;textObj.style.overflowY = 'scroll';} else {h = op_min;textObj.style.overflowY = 'hidden';}textObj.style.height = h + 'px';div.style.height = (h + delta) + 'px';}var reg = new RegExp('^((https?:\/\/)?([\\w-]+\\.)+(com|edu|gov|int|mil|net|org|biz|info|pro|name|museum|coop|aero|xxx|idv|al|dz|af|ar|ae|aw|om|az|eg|et|ie|ee|ad|ao|ai|ag|at|au|mo|bb|pg|bs|pk|py|ps|bh|pa|br|by|bm|bg|mp|bj|be|is|pr|ba|pl|bo|bz|bw|bt|bf|bi{%*i*%}|bv|kp|gq|dk|de|tl|tp|tg|dm|do|ru|ec|er|fr|fo|pf|gf|tf|va|ph|fj|fi|cv|fk|gm|cg|cd|co|cr|gg|gd|gl|ge|cu|gp|gu|gy|kz|ht|kr|nl|an|hm|hn|ki|dj|kg|gn|gw|ca|gh|ga|kh|cz|zw|cm|qa|ky|km|ci|kw|cc|hr|ke|ck|lv|ls|la|lb|lt|lr|ly|li|re|lu|rw|ro|mg|im|mv|mt|mw|my|ml|mk|mh|mq|yt|mu|mr|us|um|as|vi|mn|ms|bd|pe|fm|mm|md|ma|mc|mz|mx|nr|np|ni|ne|ng|nu|no|nf|na|za|zq|aq|gs|eu|pw|pn|pt|jp|se|ch|sv|ws|yu|sl|sn|cy|sc|sa|cx|st|sh|kn|lc|sm|pm|vc|lk|sk|si|sj|sz|sd|sr|sb|so|tj|tw|th|tz|to|tc|tt|tn|tv|tr|tm|tk|wf|vu|gt|ve|b{%*i*%}n|ug|ua|uy|uz|es|eh|gr|hk|sg|nc|nz|hu|sy|jm|am|ac|ye|iq|ir|il|it|in|id|uk|vg|io|jo|vn|zm|je|td|gi|cl|cf|cn)(:\\d+)?(\/[^\\s]*)?)\x24');function isURL(val) {if (reg.test(val)) {return true;}else {return false;}}var getTransFromTo = function(value) {var arr = value.split('2');return {from: arr[0],to: arr[1]};};if(opnew.length){function stopPropagation(event) { var event = event || window.event; if(event.stopPropagation) { event.stopPropagation(); } else { event.cancelBubble = true; } }function cha{%*i*%}ngetip(ele,exhtml,exlang,extip){ele.innerHTML=exhtml;ele.setAttribute('data-lang',exlang);ele.setAttribute('tip',extip);if($(ele).hasClass("op_translation_fromdata")){if(exlang=='auto'){datachange.removeClass('op_translation_sel_echover'); }else{datachange .addClass('op_translation_sel_echover'); }if(exlang=='ara'){textObj.style.textAlign="right";textObj.value=textObj.value;}else{textObj.style.textAlign="left";textObj.value=textObj.value;}}} function initclick(ele,initfrom,initto,e){if(initfrom.{%*i*%}style.display == 'none'){initfrom.style.display='block';ele.addClass('op_translation_selhover');stopPropagation(e); }initto.style.display='none';}function exsearch(fromex,vtip){fromex=fromex.split(',');var flag=false;$.each(lagtodata,function(i,e){$(e).removeClass('op_translation_lag_data');var nowvl=$.trim($(e).attr('value'));for(var i=0;i<fromex.length;i++){if(fromex[i] && fromex[i]==nowvl){$(e).addClass('op_translation_lag_data');if($(e).hasClass("op_translation_lag_seldata")) {flag=true; }}}{%*i*%}});if(flag==false){vtip=(vtip=='zh'?'en':'zh');$.each(lagtodata,function(i,e){$(e).removeClass('op_translation_lag_seldata');var selnow=$.trim($(e).attr('value'));if(vtip==selnow){$(e).addClass('op_translation_lag_seldata');var stip=$(e).attr('tip');var tosel=e.innerHTML;changetip(todata,tosel,vtip,stip);} }); } }function clickclass(ele,className1){ele.on('mousedown',function(){ele.addClass(className1); });ele.on('mouseup',function(){ele.removeClass(className1); });}var selfrom=_this.find('.op_t{%*i*%}ranslation_selfrom').eq(0),selto=_this.find('.op_translation_selto').eq(0),fromdata=_this.find('.op_translation_fromdata').get(0),todata=_this.find('.op_translation_todata').get(0),lagfrom=_this.find('.op_translation_lagfrom').get(0),lagto=_this.find('.op_translation_lagto').get(0),datachange=_this.find('.op_translation_sel_exchange').eq(0),lagfromdata=lagfrom.getElementsByTagName('a'),lagtodata=lagto.getElementsByTagName('a');var tsclicfn = function() {lagfrom.style.display='none'; lagto.style.{%*i*%}display='none';selfrom.removeClass('op_translation_selhover');selto.removeClass('op_translation_selhover'); };$('body').on('click',tsclicfn);selfrom.on('click', function(e) {initclick(selfrom,lagfrom,lagto,e);});selto.on('click', function(e) {initclick(selto,lagto,lagfrom,e); });$.each(lagfromdata,function(i,e){if(e){$(e).on('click',function(){if($(e).hasClass("op_translation_lag_data")) {exsearch($(e).attr('tip'),$(e).attr('value'));var fromlang=$(e).attr('value');changetip(fromdata,e.innerHTML{%*i*%},fromlang,$(e).attr('tip'));$.each(lagfromdata,function(i,e){$(e).removeClass('op_translation_lag_seldata');});$(e).addClass('op_translation_lag_seldata');}})}});$.each(lagtodata,function(i,e){if(e){$(e).on('click',function(){if($(e).hasClass("op_translation_lag_data")) {var tolang=$(e).attr('value');changetip(todata,e.innerHTML,tolang,$(e).attr('tip'));$.each(lagtodata,function(i,e){$(e).removeClass('op_translation_lag_seldata');});$(e).addClass('op_translation_lag_seldata');}})}});datachange.o{%*i*%}n('click',function(){var nowtovl=$.trim(fromdata.getAttribute('data-lang'));if(nowtovl!='auto'){datachange.addClass('op_translation_sel_echover');var nowtodata=fromdata.innerHTML,nowtotip=fromdata.getAttribute('tip'),nowfromdata=todata.innerHTML,nowfromvl=$.trim(todata.getAttribute('data-lang')),nowfromtip=todata.getAttribute('tip');changetip(fromdata,nowfromdata,nowfromvl,nowfromtip);changetip(todata,nowtodata,nowtovl,nowtotip);$.each(lagfromdata,function(i,e){if($.trim($(e).attr('value'))==now{%*i*%}fromvl){$(e).addClass('op_translation_lag_seldata');}else{$(e).removeClass('op_translation_lag_seldata');}});$.each(lagtodata,function(i,e){if($.trim($(e).attr('value'))==nowtovl){$(e).addClass('op_translation_lag_seldata');}else{$(e).removeClass('op_translation_lag_seldata');}});exsearch(nowfromtip,nowfromvl);}});var seldatalist=_this.find('.op_translation_lag_seldata'),seldata=seldatalist[0],selex=seldata.getAttribute('tip').split(','),selvalue=seldata.getAttribute('value'),seltip=seldata.getA{%*i*%}ttribute('tip');changetip(fromdata,seldata.innerHTML,selvalue,seltip);var stodata=seldatalist[1];var stovalue=stodata.getAttribute('value');var stotip=stodata.getAttribute('tip');changetip(todata,stodata.innerHTML,stovalue,stotip);for(var i=0;i<selex.length;i++){$.each(lagtodata,function(i,e){if(selex[i] && selex[i]==$(e).attr('value')){$(e).addClass('op_translation_lag_data');}});}}clickclass(aObj,'op_translation_btnclick');clickclass(datachange,'op_translation_sel_ecclick');aObj.on('click', fu{%*i*%}nction() {removeTextTip(textObj);var current_charset = document.charset;document.charset = op_translation_charcode;tstimer = window.setTimeout(function() {document.charset = current_charset;},500);var textareaValue = $.trim(textObj.value);if(opnew.length){var tos=$.trim(todata.getAttribute('data-lang'));var froms=$.trim(fromdata.getAttribute('data-lang'));selectObj.options[selectObj.selectedIndex].value=froms+'2'+tos; }else{var tos=getTransFromTo(selectObj.value).to;var froms=getTransFromTo(sele{%*i*%}ctObj.value).from; }if (isURL(textareaValue)) {newurl = op_translation_action1 + '?from=' + encodeURIComponent(froms) + '&to=' + encodeURIComponent(tos) + '&query=' + encodeURIComponent(textareaValue) +'&source=url&ie=utf8&render=1';aObj.attr('href',newurl);aObj.attr('target','_blank');}else {formObj.action = op_translation_action;formObj.submit();return false;}});this.dispose = function(){window.clearTimeout(tstimer);};});</script>{%/block%}