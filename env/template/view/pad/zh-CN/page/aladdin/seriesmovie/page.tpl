{%extends 'c_base.tpl'%} {%block name='data_modifier'%}{%$extData.feData.hasShowURLGap=true%}{%$alias=""%}{%if $tplData.allalias && (strpos($extData.OriginQuery, $tplData.originalname) === false)%} {%foreach $tplData.allalias as $item%} {%if strpos($extData.OriginQuery, $item) !== false%} {%$alias = $item%} {%break%} {%/if%} {%/foreach%}{%/if%}{%/block%}{%block name='title'%}{%/block%}{%block name='foot'%}{%/block%}{%block name='content'%}<style data-merge>{%fe_fn_c_css css='btn'%}{%fe_fn_c_css css='img'%}.op-seriesmovie-a{position:relative;display:block}.op-seriesmovie-poster{height:161px}.op-seriesmovie-playicon{width:42px;height:42px;position:absolute;top:50%;left:50%;margin-left:-21px;margin-top:-21px;cursor:pointer;z-index:2;background:url(http://www.baidu.com/aladdin/img/movievideo/playicon.png) no-repeat;_background:0;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,sizingMethod=noscale,src="http://www.baidu.com/aladdin/img/movievideo/playicon.png")}.op-seriesmovie-m{%*i*%}ask{width:100%;height:100%;position:absolute;top:0;left:0;background:#000;filter:alpha(opacity=20);opacity:.2;-moz-opacity:.2;cursor:pointer;display:none;z-index:1}.op-seriesmovie-over .op-seriesmovie-mask{display:block}.op-seriesmovie-right{position:relative}.op-seriesmovie-finish,.op-seriesmovie-update{padding:0 1px;text-align:center;color:#fff;font-size:.92em;background:#2b99ff}.op-seriesmovie-tvplay div{float:left;line-height:14px;margin-bottom:3px}.op-seriesmovie-first{width:62%;text-overfl{%*i*%}ow:ellipsis;overflow:hidden;white-space:nowrap}.op-seriesmovie-tip{color:#666}.op-seriesmovie-info{color:#666}.op-seriesmovie-rate{text-align:right;line-height:20px;position:absolute;right:0;top:-2px;color:#666}.op-seriesmovie-rateleft{text-align:left;line-height:20px}.op-seriesmovie-rate i,.op-seriesmovie-rateleft i{color:#ff4c2e;font-size:18px}.op-seriesmovie-tip i{color:#ff4c2e;font-style:normal}.op-seriesmovie-split{color:#d8d8d8;margin:0 5px}.op-seriesmovie-left{float:left}.op-seriesmovie-i{%*i*%}nfo a{padding-left:5px}.op-seriesmovie-site a{font-family:simsun}.op-seriesmovie-site span{padding-right:10px}.op-seriesmovie-site img,.op-seriesmovie-info img{display:inline-block;width:16px;height:16px;vertical-align:text-bottom;font-style:normal;overflow:hidden;padding-right:3px;cursor:pointer}.op-seriesmovie-summary,.op-seriesmovie-season{padding-left:3em;text-indent:-3em}.op-seriesmovie-seasonEp{margin-right:17px;white-space:nowrap}.op-seriesmovie-part a{position:relative;overflow:hidden;di{%*i*%}splay:block;text-decoration:none}.op-seriesmovie-partnumWrap{position:absolute;right:1px;bottom:0;z-index:1;overflow:hidden}.op-seriesmovie-partnum{color:#fff;display:block;overflow:hidden;padding:0 5px;position:relative}.op-seriesmovie-numMask{width:100%;height:100%;position:absolute;top:0;left:0;background:#000;filter:alpha(opacity=65);opacity:.65;-moz-opacity:.65;cursor:pointer;z-index:-1}.op-seriesmovie-subtitle{font-weight:bold}.op-seriesmovie-center{text-align:center}.op-seriesmovie-page{f{%*i*%}ont-size:.92em;clear:both}.op-seriesmovie-page p{color:#00c;text-align:center;line-height:19px}.op-seriesmovie-page-number,.op-seriesmovie-page-pre,.op-seriesmovie-page-next{border:1px solid #e7ecf0;text-align:center;font-weight:normal;cursor:pointer;margin:0 2px;padding:0 5px;display:inline-block}.op-seriesmovie-page-number-now{font-weight:bold;color:#000;margin:0 8px;display:inline-block;*border:1px solid #fff}.op-seriesmovie-page-more{color:#000}.op-seriesmovie-page-number:hover,.op-seriesmov{%*i*%}ie-page-pre:hover,.op-seriesmovie-page-next:hover{border:1px solid #5a9ff1}.op-seriesmovie-gap{padding:0 10px}</style><style>.op-seriesmovie-part a,.op-seriesmovie-a{height:{%fe_fn_c_get_grid_height rate=161/121%}px}.op-seriesmovie-part a img,.op-seriesmovie-a img{height:{%fe_fn_c_get_img_height col=6 rate=161/121%}px}</style><div class="c-border">{%if $tplData.poster && $tplData.videoPlay[0].link%} {%fe_fn_c_title_prefix%}{%fe_fn_c_title%}{%fe_fn_c_title_suffix%} <div class="c-row op-seriesmovie"> <div class="c-span6 c-gap-bottom-small"> <a target="_blank" href="{%$tplData.url%}" class="op-seriesmovie-a"><img class="c-img c-img6 op-seriesmovie-poster" src="{%$tplData.poster%}" /><span class="op-seriesmovie-playicon"></span><span class="op-seriesmovie-mask"></span></a> </div> <div class="c-span18 c-span-last op-seriesmovie-right"> {%$fistRowExist = $tplData.releaseTime || $tplData.duration || $tplData.area || $tplData.lang%} {%$fistInfoExist = false%} {%if $fistRowExist%} <div class="c-clearfix"> <div class="op-seriesmovie-first">{%if $tplData.releaseTime%}{%$tplData.releaseTime%}{%$fistInfoExist = true%}{%/if%}{%if $tplData.duration%}{%if $fistInfoExist%}<span class="op-seriesmovie-split">|</span>{%/if%}{%$tplData.duration%}{%$fistInfoExist = true%}{%/if%}{%if $tplData.area%}{%if $fistInfoExist%}<span class="op-seriesmovie-split">|</span>{%/if%}{%$tplData.area%}{%$fistInfoExist = true%}{%/if%}{%if $tplData.lang%}{%if $fistInfoExist%}<span class="op-seriesmovie-split">|</span>{%/if%}{%$tplData.lang%}{%$fistInfoExist = true%}{%/if%}</div> <div class="op-seriesmovie-rate">{%$tplData.rate[0].site%}<i class="c-gap-left-small">{%$tplData.rate[0].num%}</i></div> </div> <div class="c-clearfix"> <div> <span class="op-seriesmovie-tip">类型：</span>{%foreach  array_slice($tplData.type, 0, 3) as $item%}{%if $item.link%}<a target="_blank" href="{%$item.link%}">{%$item.name%}</a>{%else%}{%$item.name%}{%/if%}{%if !$item@last%}<span class="op-seriesmovie-split">|</span>{%/if%}{%/foreach%} </div> <div class="op-seriesmovie-rate">{%$tplData.rate[0].site%}<i class="c-gap-left-small">{%$tplData.rate[0].num%}</i></div> </div> {%elseif $tplData.type%} <div class="c-clearfix"> <div> <span class="op-seriesmovie-tip">类型：</span>{%foreach  array_slice($tplData.type, 0, 3) as $item%}{%if $item.link%}<a target="_blank" href="{%$item.link%}">{%$item.name%}</a>{%else%}{%$item.name%}{%/if%}{%if !$item@last%}<span class="op-seriesmovie-split">|</span>{%/if%}{%/foreach%} </div> <div class="op-seriesmovie-rate">{%$tplData.rate[0].site%}<i>{%$tplData.rate[0].num%}</i></div> </div> {%elseif $tplData.rate[0]%} <div class="op-seriesmovie-rateleft">{%$tplData.rate[0].site%}<i>{%$tplData.rate[0].num%}</i></div> {%/if%} {%if $tplData.summary%} <div class="c-clearfix op-seriesmovie-summary"> {%$aliasLen = 0%} <span class="op-seriesmovie-tip">简介：</span><span class="op-seriesmovie-cnt">{%if $alias%}{%$aliasLen = (strlen($tplData.alias) + mb_strlen($tplData.alias,'utf-8'))/2 + 8%}（别名：<em>{%$alias|escape:'html'%}</em>）{%/if%}{%$tplData.summary[0].content|limitlen:(140-$aliasLen)%}{%if $tplData.summary[0].link && $tplData.summary[0].content|trim != $tplData.summary[0].content|limitlen:(140-$aliasLen)%}<a target="_blank" href="{%$tplData.summary[0].link%}" style="padding-left:5px;">更多&gt;&gt;</a>{%/if%}</span> </div> {%/if%} <div class="c-clearfix{%if $tplData.seasonEp%} op-seriesmovie-season{%/if%}"> {%*正版电影*%} {%if $tplData.videoPlay[0]%} <div class="c-clearfix c-gap-top {%if $tplData.videoPlay|count <= 1%} c-gap-bottom-small{%/if%}"> <div class="op-seriesmovie-left"><a class="c-btn c-btn-primary c-btn-large" target="_blank" href="{%$tplData.videoPlay[0].link%}"><i class="c-icon c-icon-play-white" style="margin-top:8px;margin-right:1px;"></i>立即播放</a></div> <div class="op-seriesmovie-info op-seriesmovie-left c-gap-left c-gap-top-small">来源：<a target="_blank" href="{%$tplData.videoPlay[0].link%}"><img src="{%$tplData.videoPlay[0].icon%}"></a><a target="_blank" href="{%$tplData.videoPlay[0].link%}">{%$tplData.videoPlay[0].name%}</a></div> </div> {%if $tplData.videoPlay|count > 1%} <div class="c-clearfix c-gap-top-small op-seriesmovie-site">其它： {%foreach array_slice($tplData.videoPlay, 1, 4) as $item%} <span><a target="_blank" href="{%$item.link%}"><img src="{%$item.icon%}"></a><a target="_blank" href="{%$item.link%}">{%$item.name%}</a></span> {%/foreach%} </div> {%/if%} {%*盗版电影/电视剧*%} {%elseif $tplData.button%} <div class="c-clearfix c-gap-top c-gap-bottom-small"> <div class="op-seriesmovie-left"><a class="c-btn c-btn-primary c-btn-large" target="_blank" href="{%$tplData.button[0].link%}">{%$tplData.button[0].text%}</a></div>{%if $tplData.videoinfo%}<div class="op-seriesmovie-info op-seriesmovie-left c-gap-left c-gap-top-small">{%$tplData.videoinfo%}</div>{%/if%} </div> {%/if%} </div> </div> </div> {%/if%} {%if $tplData.list%} <div class="op-seriesmovie-subtitle c-gap-top-small">{%$tplData.subtitle%}</div> <div class="c-gap-top-small"> <div class="c-row op-seriesmovie-series"> {%foreach array_slice($tplData.list, 0, 4) as $item%} <div class="c-span6{%if $item@index == 3%} c-span-last{%/if%}"> <div class="op-seriesmovie-part"> <a target="_blank" href="{%$item.link%}"><img class="c-img c-img6 op-seriesmovie-poster" src="{%$item.poster%}"><div class="op-seriesmovie-partnumWrap"><span class="op-seriesmovie-partnum">{%$item.part%}</span><span class="op-seriesmovie-numMask">&nbsp;</span></div></a> </div> <div class="op-seriesmovie-center c-gap-top-small {%if mb_strwidth($item.name)>=18 && mb_strwidth($item.name)<24%}op-seriesmovie-gap{%/if%}"> <a target="_blank" href="{%$item.link%}" title="{%$item.name%}">{%$item.name|limitlen:32|escape:'html'%}</a> </div> <div class="op-seriesmovie-center"> {%if $item.year%}<span class="op-seriesmovie-tip">{%$item.year%}<span>{%if $item.rate%}<span class="op-seriesmovie-split">|</span>{%/if%}{%/if%}{%if $item.rate%}<span class="op-seriesmovie-tip"><i>{%$item.rate%}</i>分<span>{%/if%} </div> </div> {%/foreach%} </div> {%if $tplData.list|count > 4%} <div class="op-seriesmovie-page c-gap-top c-gap-bottom-small" style="display:none"><p></p></div> {%/if%} </div> {%/if%} <div>{%fe_fn_c_showurl%}</div></div><script compress-data="off">A.setup({'resultNum':{%$tplData.list|count%},'series':{%json_encode($tplData.list)%}});</script><script  data-merge>A.setup(function(){var _this = this;A.use('jquery', function(){var $ = A.ui.jquery,$con = $(_this.container),$aDom = $con.find('.op-seriesmovie-a'), series = _this.data.series,$seriesDom = $con.find(".op-seriesmovie-series");resultNum = _this.data.resultNum, nowNum = 4, nowPage = 1;$aDom.hover(function(){$(this).toggleClass('op-seriesmovie-over');});function showData(){var htmlfragment = [];for( var i = (nowPage - 1) * nowNum; i < series.length && i < nowPage * no{%*i*%}wNum; i++ ){var limitLen = 32;if ( countLen(series[i].name) >=18 && countLen(series[i].name) < 24) {var hasclass = 'op-seriesmovie-gap';} else {var hasclass = '';}htmlfragment = htmlfragment.concat(['<div class="c-span6']);if ( (i + 1) % 4 == 0) htmlfragment = htmlfragment.concat([' c-span-last']); htmlfragment = htmlfragment.concat(['"><div class="op-seriesmovie-part"><a target="_blank" href="',series[i].link,'"><img class="c-img c-img6 op-seriesmovie-poster" src="',series[i].poster,'"><div cla{%*i*%}ss="op-seriesmovie-partnumWrap"><span class="op-seriesmovie-partnum">',series[i].part,'</span><span class="op-seriesmovie-numMask">&nbsp;</span></div></a></div><div class="op-seriesmovie-center c-gap-top-small '+hasclass+'"><a target="_blank" href="',series[i].link,'" title="',series[i].name,'">',subByte(series[i].name, limitLen),'</a></div><div class="op-seriesmovie-center">']);if ( series[i].year ) {htmlfragment = htmlfragment.concat(['<span class="op-seriesmovie-tip">', series[i].year, '<span{%*i*%}>']);if ( series[i].rate ) {htmlfragment = htmlfragment.concat(['<span class="op-seriesmovie-split">|</span>']);}} if ( series[i].rate ) {htmlfragment = htmlfragment.concat(['<span class="op-seriesmovie-tip"><i>', series[i].rate, '</i>分<span>']);} htmlfragment = htmlfragment.concat(['</div></div>']);}initPageComp();$seriesDom.html(htmlfragment.join(''));}initPageComp();function initPageComp(){ var $pageArea = $con.find(".op-seriesmovie-page");if ($pageArea) {if (resultNum > nowNum) { $pageArea.c{%*i*%}ss("display", "block"); var endPage = Math.ceil(resultNum / nowNum);initPageCompHTML(nowPage,endPage);var $pageNumber = $con.find(".op-seriesmovie-page-number"), $pagePre = $con.find(".op-seriesmovie-page-pre"),$pageNext = $con.find(".op-seriesmovie-page-next");$pageNumber.click( function(){nowPage = Number($(this).html());pn = (nowPage - 1) * nowNum;showData();});if ($pagePre) { $pagePre.click( function(){nowPage = nowPage - 1;pn = (nowPage - 1) * nowNum;showData();});};if ($pageNext) { $pageNe{%*i*%}xt.click( function(){nowPage = nowPage + 1;pn = (nowPage - 1) * nowNum;showData();});};} else { $pageArea.css("display","none");};};}function initPageCompHTML(nowPage,endPage){ nowPage = Number(nowPage);endPage = Number(endPage);var numberPageArr = []; if (2 <= endPage && endPage <= 7) {for (var i = 1; i <= endPage; i++) {numberPageArr = numberPageArr.concat([i]);};} else if (endPage >= 8){if (nowPage <= 4) {numberPageArr = [1,2,3,4,5,'M',endPage];} else if (nowPage >= endPage - 3){numberPageArr{%*i*%} = [1,'M',endPage-4,endPage-3,endPage-2,endPage-1,endPage];} else {numberPageArr = [1,'M',nowPage-1,nowPage,nowPage+1,'M',endPage];};};var pageCompHTML = [];if (nowPage != 1 && endPage > 3) {pageCompHTML = pageCompHTML.concat(['<span class="op-seriesmovie-page-pre OP_LOG_BTN" data-click="{\'fm\':\'beha\'}">上一页</span>']);};for (var i = 0; i < numberPageArr.length; i++) {if (numberPageArr[i] == "M") {pageCompHTML = pageCompHTML.concat(['<span class="op-seriesmovie-page-more">…</span>']);} else if {%*i*%}(numberPageArr[i] == nowPage){pageCompHTML = pageCompHTML.concat(['<span class="op-seriesmovie-page-number-now">',numberPageArr[i],'</span>']);} else {pageCompHTML = pageCompHTML.concat(['<span class="op-seriesmovie-page-number OP_LOG_BTN" data-click="{\'fm\':\'beha\'}">',numberPageArr[i],'</span>']);};};if (nowPage != endPage && endPage > 3) {pageCompHTML = pageCompHTML.concat(['<span class="op-seriesmovie-page-next OP_LOG_BTN" data-click="{\'fm\':\'beha\'}">下一页</span>']);};$con.find(".op-serie{%*i*%}smovie-page p").html(pageCompHTML.join(''));}function subByte(str, len, tail){ var a = [], s = str.split('');tail = tail || '…';for(var i = 0, l = s.length; i < l; i++){if(s[i].charCodeAt(0) > 255){a.push("*");}a.push(s[i]);}if(len && len > 0 && a.length > len){ s = a.join("").substring(0, len - 1).replace(/\*/g,'') + tail;}else{return str;}return s;};function countLen( str ){var a = [], s = str.split('');for(var i = 0, l = s.length; i < l; i++){if(s[i].charCodeAt(0) > 255){a.push("*");}a.push(s{%*i*%}[i]);}return a.length;}});});</script>{%/block%}