{%extends 'c_base.tpl'%} {%block name='data_modifier'%}{%$extData.feData.hasBorder=true%}{%$tplData.title=$tplData.titlecont%}{%$tplData.url=$tplData.realurl%}{%$tplData.showurl='www.ip138.com/'%}{%/block%}{%block name='content'%}<style data-merge>{%fe_fn_c_css css='img'%}{%fe_fn_c_css css='btn'%}{%fe_fn_c_css css='input'%}.op-ip-icon{line-height:0}.op-ip-detail table{width:100%;height:56px}.op-ip-detail td{vertical-align:middle;font-size:22px;line-height:22px;font-family:"微软雅黑" arial}.op-ip-tip{color:#aaa}.op-ip-no-tip{color:#000}.op-ip-query-e,.op-ip-query-res{display:none}.op-ip-query-e span{color:#f00}.op-ip-help-link a{color:#666}</style><script type="text/javascript" >
    window.opuiLikeShareContent6006 = '#百度搜索#刚才在百度搜“{%$extData.OriginQuery|escape:'html'%}” {%if $tplData.specialSearch%} 我的ip地址{%$tplData.origip|escape:'html'%} {%else%}“{%$tplData.origip|escape:'html'%}”{%/if%} 属于{%if $tplData.location%}{%$tplData.location|escape:'html'%}{%/if%}。查ip归属地，很方便，你也来试试？';
</script><div class="c-row"> <div class="c-span3 op-ip-icon"><img class="c-img c-img3" src="http://www.baidu.com/aladdin/img/tools/ip.png"></div> <div class="c-span21 c-span-last op-ip-detail"> <table><tr><td> {%if $tplData.origip%}<span class="c-gap-right">{%if $tplData.specialSearch%}本机IP{%else%}IP地址{%/if%}:&nbsp;{%$tplData.origip|escape%}</span>{%if $tplData.location%}{%$tplData.location|escape%}{%/if%}{%else%}抱歉，未查询到相关IP地址。{%/if%} </td></tr></table> </div></div><div class="c-row c-gap-top"> <div class="c-span10"> <input class="c-input c-input-large op-ip-input" type="text" value="" maxlength="15" placeholder="请输入ip地址" tip="请输入ip地址" autocomplete="off"> </div> <div class="c-span14 c-span-last"> <a class="c-btn c-btn-primary op-ip-do-submit OP_LOG_BTN"  href="#" onclick="return false;"  hideFocus="true">查询</a> </div></div><div class="c-gap-top-small op-ip-query-e"> <span>请输入有效的ip地址</span></div><div class="c-gap-top-small op{%*i*%}-ip-query-res"> <span class="op-ip-query-res-txt"></span></div><div class="c-gap-top op-ip-help-link"> <a class="c-gap-right" href="http://jingyan.baidu.com/article/870c6fc3d509a1b03fe4be06.html" target="_blank">本机IP查看方法</a> <a href="http://jingyan.baidu.com/article/8ebacdf0ff177b49f65cd506.html" target="_blank">IP地址设置方法</a></div><script data-merge>A.setup(function() {var t = this;var isIE = !-[1,];var isIE6=isIE&&!window.XMLHttpRequest; var dbcHashTable = {'65297': '1', '65298': '2', '65299': '{%*i*%}3', '65300': '4', '65301': '5', '65302': '6', '65303': '7', '65304': '8', '65305': '9', '65296': '0', '65294': '.'};var txt = t.find('.op-ip-input')[0];var btn = t.find('.op-ip-do-submit')[0];var tr_res = t.find('.op-ip-query-res')[0];var txt_res = t.find('.op-ip-query-res-txt')[0];var tr_e = t.find('.op-ip-query-e')[0];var query_error_txt = '抱歉没有找到此ip地址的信息';var searching = false;var queryCount = 0;var ipTimer = null;if (isIE6) {try {document.execCommand('BackgroundImageCache', false, true);txt.{%*i*%}setAttribute('placeholder','');} catch (err) {}$(txt).addClass('op-ip-tip');txt.value = txt.getAttribute('tip') || '';$(txt).on('focus', function(e){var curValue = trim(txt.value);if (curValue == txt.getAttribute('tip')) {txt.value = '';$(txt).removeClass('op-ip-tip');$(txt).addClass('op-ip-no-tip');}});$(txt).on('blur', function(e){var curValue = trim(txt.value);if (curValue == '') {txt.value = txt.getAttribute('tip');$(txt).removeClass('op-ip-no-tip');$(txt).addClass('op-ip-tip');}});}function{%*i*%} showErrorMessage() {tr_res.style.display = 'none';tr_e.style.display = 'block';}function trim(str) {var trimer = new RegExp('[\\s\\t\\xa0\\u3000]', 'g');return str.replace(trimer, '');}function dbc2sbc(ip_input) {return ip_input.replace(/./g, function(a,b,c) {var code = a.charCodeAt(0);if (typeof(dbcHashTable[code]) != 'undefined') {return dbcHashTable[code];}else {return a;}});}function validateIP(ip_input) {if (!ip_input) {return false;}if (!(/\d\./g.test(ip_input))) {return false;}var ipArr {%*i*%}= ip_input.split('.');if (ipArr.length != 4) {return false;}var temp;for (var i = 0, l = ipArr.length; i < l; i++) {temp = ipArr[i];if (temp === '') {return false;}temp = temp * 1;if (i == 0 && temp <= 0) {return false;}if (isNaN(temp) || temp > 255 || temp < 0) {return false;}}return true;}function formatIP(ip_input) {var ipArr = ip_input.split('.');for (var i = 0; i < ipArr.length; i++) {ipArr[i] = ipArr[i] * 1;}return ipArr.join('.');}function startSearching() {searching = true;txt.disabled ={%*i*%} true;}function endSearching() {searching = false;txt.disabled = false;try {if (txt.disabled == false) {ipTimer = setTimeout(function() {txt.focus();},50);}}catch (e) {}}function resetSearch(count) {return function() {if (queryCount == count && searching) {txt_res.innerHTML = '<span style="color:#F00">' + query_error_txt + '</span>';endSearching();}}}function submitVal(val) {queryCount++;if (validateIP(val)) {txt.value = val = formatIP(val);tr_e.style.display = 'none';tr_res.style.display = 'blo{%*i*%}ck';txt_res.innerHTML = '<span style="color:#666">查询中...</span>';var resourceId = t.srcid;t.ajax(val, resourceId, {success: function(data) {if (data) {var d = data[0];if (d) {txt_res.innerHTML = '<b>' + d.origip + '来自<span style="color:#f00">' + d.location + '</span></b>';}else {txt_res.innerHTML = '<span style="color:#F00">' + query_error_txt + '</span>';endSearching();}}endSearching();},error: function(data) {txt_res.innerHTML = '<span style="color:#F00">' + query_error_txt + '</span>';endSear{%*i*%}ching();},timeout: function(data) {txt_res.innerHTML = '<span style="color:#F00">' + query_error_txt + '</span>';endSearching();}});startSearching();if (window['baidu_aladdin_mid_temp_ip_timer']) {clearTimeout(window['baidu_aladdin_mid_temp_ip_timer']);}window['baidu_aladdin_mid_temp_ip_timer'] = setTimeout(function(count) {return resetSearch(count);}(queryCount), 6000);}else {showErrorMessage();}}function searchButtonEventListner(e) {e = e || window.event;if (searching) {return false;}var val ={%*i*%} trim(txt.value);val = dbc2sbc(val);submitVal(val);if (e) {e.preventDefault();e.stopPropagation();}}function bindSearchEvent() {$(txt).keydown(function(e){var e = e || window.event;if (e && e.keyCode == 13) {searchButtonEventListner(e);}});$(txt).mouseover(function(e){if (this.value != '请输入ip地址') {this.select();}});$(btn).click(function(e){searchButtonEventListner(e);});$(btn).keydown(function(e){e = e || window.event;if (e && e.keyCode == 13) {searchButtonEventListner(e);}});}bindSearchEvent();{%*i*%}this.dispose = function(){window.opuiLikeShareContent6006=null;clearTimeout(ipTimer);clearTimeout(window['baidu_aladdin_mid_temp_ip_timer']);};});</script>{%/block%}