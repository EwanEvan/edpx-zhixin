<?php 
  class CssJs_Util_videoidea
   {
      private static $cssStr = '.op_videoidea_title{font-size:14px;font-weight:bold;}.op_videoidea_top{font-size:12px;}.op_videoidea_condition{padding-top:3px;}.op_videoidea_tags div{height:30px;line-height:30px;}.op_videoidea_tag{margin:0 4px;color:#00c;cursor:pointer;padding:1px 4px 2px;*padding:2px 4px 0;}.op_videoidea_select{background-color:#388bff;color:#fff;}.op_videoidea_content{font-size:12px;}.op_videoidea_detailcnt{position:relative;margin-top:15px;}.op_videoidea_imgwrap{height:161px;}.op_videoidea_cntimg{height:161px;overflow:hidden;z-index:4;}.op_videoidea_imgangle{position:absolute;top:0;left:0;width:29px;height:29px;color:#fff;padding:1px 2px;cursor:pointer;}.op_videoidea_imgwrap .op_videoidea_imgangle{top:0;left:0;}.op_videoidea_new{background:url("http://www.baidu.com/aladdin/img/videoidea/triangle.png") no-repeat 0 -32px;}.op_videoidea_hot{background:url("http://www.baidu.com/aladdin/img/videoidea/triangle.png") no-repeat 0 0;}.op_videoidea_name{text-align:center;}.op_videoidea_name a{text-decoration:none;}.op_videoidea_name a:hover{text-decoration:underline;}.op_videoidea_star{width:80px;margin:auto;}.op_videoidea_starwrap{margin:3px 2px 0 0;}.op_videoidea_star i,.op_videoidea_star span{float:left;}.op_videoidea_ep{text-align:center;}.op_videoidea_noresult{padding:166px 0;}.op_videoidea_noresult div{height:30px;line-height:30px;font-size:14px;width:345px;margin:auto;}.op_videoidea_hidden{display:none;}.op_videoidea_bold{font-weight:bold;}.op_videoidea_page{margin-top:15px;font-size:12px;clear:both;}.op_videoidea_page p{color:#00c;text-align:center;line-height:19px;}.op_videoidea_page_number,.op_videoidea_page_pre,.op_videoidea_page_next{border:1px solid #e7ecf0;text-align:center;font-weight:normal;cursor:pointer;margin:0 2px;padding:0 5px;display:inline-block;}.op_videoidea_page_number_now{font-weight:bold;color:#000;margin:0 8px;display:inline-block;*border:1px solid #fff;}.op_videoidea_page_more{color:#000;}.op_videoidea_page_number:hover,.op_videoidea_page_pre:hover,.op_videoidea_page_next:hover{border:1px solid #5a9ff1;}';  // css字串，不含<style>和</style>标签
      private static $jsStr  = 'A.merge("videoidea",function(){A.setup(function(){var j=this,k=j.find(".op_videoidea_fresh").eq(0),m=j.find(".op_videoidea_tag"),l=j.find(".op_videoidea_content").eq(0),a=j.find(".op_videoidea_noresult").eq(0),b=j.find(".c-tabs-nav-li"),f=j.find(".op_videoidea_tempdata").eq(0),n=false,i=0,d=0,e=0,c=0,h=j.data.tvplay,g;A.use("page",function(){var o=j.find(".op_videoidea_page");var p={listNum:Number(j.data.allNum),nowPage:1,endPage:undefined,pn:0,rn:8};w();function w(){var z=j.data.tags.length,I=j.data.badTags,J={time:true,type:true,area:true};for(var E=0;E<z;E++){var K=false;for(var y=0;y<I.length;y++){if(j.data.tags[E]==I[y]){K=true;break}}if(K){continue}var D=false;for(var B=0;B<m.length;B++){if(j.data.tags[E]==m.eq(B).html()){m.eq(B).addClass("op_videoidea_select");var H=m[B].parentNode.className.split("_")[2];v(m[B].innerHTML,H);D=true;J[H]=false}}if(!D){v(j.data.tags[E],"")}}if(J.type){j.find(".op_videoidea_type:first .op_videoidea_all:first").addClass("op_videoidea_select")}if(J.time){j.find(".op_videoidea_time:first .op_videoidea_all:first").addClass("op_videoidea_select")}if(J.area){j.find(".op_videoidea_area:first .op_videoidea_all:first").addClass("op_videoidea_select")}var G={disp_data:j.data.data,listNum:j.data.allNum},F=[G],C={status:"0",t:"0",data:F};q(C);r()}b.click(function(){if(!$(this).hasClass("c-tabs-nav-selected")){j.find(".c-tabs-nav-selected").removeClass("c-tabs-nav-selected");$(this).addClass("c-tabs-nav-selected");i=b.index(this);j.find(".op_videoidea_cntwrap").eq(i).removeClass("op_videoidea_hidden").siblings(".op_videoidea_cntwrap").addClass("op_videoidea_hidden");x();t()}});m.click(function(){var y=$(this).parent(),z=y.get(0).className.split("_")[2],C=j.find(".op_videoidea_item");var B=$(this);if(!B.hasClass("op_videoidea_select")){B.addClass("op_videoidea_select").siblings(".op_videoidea_select").removeClass("op_videoidea_select");C.each(function(D,E){if(E.getAttribute("data-type")==z){$(E).remove()}});if(!B.hasClass("op_videoidea_all")){v(B.html(),z)}x();t();r()}else{if(!B.hasClass(".op_videoidea_all")){B.removeClass("op_videoidea_select");C.each(function(D,E){if(E.getAttribute("data-cont")==B.html()){$(E).remove()}});if(y.find(".op_videoidea_select")[0]==undefined){y.find(".op_videoidea_all").eq(0).addClass("op_videoidea_select")}x();t();r()}}});function v(z,B){var y=$(\'<div class="op_videoidea_item OP_LOG_BTN" data-type="\'+B+\'" data-cont="\'+z+\'">\'+z+"</div>");y.click(function(){if(B){var D=j.find(".op_videoidea_"+B).eq(0),C=D.find(".op_videoidea_select"),E=true;C.each(function(F,G){if(G.innerHTML==y.attr("data-cont")){$(G).removeClass("op_videoidea_select")}else{E=false}});if(E){D.find(".op_videoidea_all").eq(0).addClass("op_videoidea_select")}}y.remove();x();t();r()});y.insertBefore(k)}k.on("click",function(){var B=j.find(".op_videoidea_item"),z=j.find(".op_videoidea_select"),y=j.find(".op_videoidea_all");B.each(function(C,D){$(D).remove()});z.each(function(C,D){$(D).removeClass("op_videoidea_select")});y.each(function(C,D){$(D).addClass("op_videoidea_select")});x();t();r()});function r(){var z=j.find(".op_videoidea_item"),y=j.find(".op_videoidea_condition").eq(0);if(z.length<1){if(!y.hasClass("op_videoidea_hidden")){y.addClass("op_videoidea_hidden")}}else{y.removeClass("op_videoidea_hidden")}}function q(D){if(n){return}if(d!=D.t){return}if(D.status=="0"&&D.data[0].disp_data){var z=D.data[0].disp_data.length,B=j.find(".op_videoidea_cntwrap").eq(i);p.listNum=D.data[0].listNum;if(z>0){s();var y="";for(var C=0;C<z&&C<8;C++){y+=u(D.data[0].disp_data[C],C)}B.html(y);a.addClass("op_videoidea_hidden")}else{a.removeClass("op_videoidea_hidden");B.html("");o.css({display:"none"})}}else{a.removeClass("op_videoidea_hidden");B.html("");o.css({display:"none"})}}function u(D,z){var C=[\'<div class="op_videoidea_detailcnt c-span6\'],y=D.videoLink;if((z+1)%4==0){C.push(" c-span-last")}C=C.concat([\'"><div class="op_videoidea_imgwrap"><a target="_blank" href="\',y,\'"><img class="op_videoidea_cntimg c-img6"  src="\',D.poster,\'" /></a>\']);if(D.isHot=="true"&&e<6){C.push(\'<span class="op_videoidea_imgangle op_videoidea_hot">热</span></div>\');e++}else{if(D.isNew=="true"&&c<6){C.push(\'<span class="op_videoidea_imgangle op_videoidea_new">新</span></div>\');c++}else{C.push("</div>")}}var B=[\'<div class="op_videoidea_name c-gap-top-small"><a target="_blank" href="\',y,\'" title="\',D.title,\'">\',$.subByte(D.displayTitle,18),"</a></div>"];if(h){B=B.concat([\'<div class="op_videoidea_ep c-row">\',D.total,"</div></div>"])}else{B=B.concat([\'<div class="op_videoidea_star c-row"><i class="c-icon c-icon-star-gray op_videoidea_starwrap"><i class="c-icon c-icon-star" style="width:\',D.rate*10,\'%"></i></i><span>\',D.rate,"</span></div></div>"])}return C.concat(B).join("")}function t(){var z=[],B,y,C=j.find(".op_videoidea_item");d=new Date().getTime();C.each(function(E,F){var D=F.getAttribute("data-cont");if(D=="更早"){y="1900_1979"}else{z.push(D)}});switch(i){case 0:B="";break;case 1:B="12";break;case 2:B="11";break}a.addClass("op_videoidea_hidden");url="http://opendata.baidu.com/api.php?format=json&rn=8&from_mid=1&sort_type=1&ie=utf-8&oe=utf-8&type="+encodeURIComponent(z.join(","))+"&sort_key="+B+"&pn="+p.pn+"&query="+encodeURIComponent(h?"电视剧":"电影")+"&time_more="+y+"&t="+d+"&resource_id="+j.data.sid;$.ajax({url:url,dataType:"jsonp",jsonp:"cb",success:q})}function s(){if(o.length){if(p.listNum>p.rn){o.css({display:"block"});p.endPage=Math.ceil(p.listNum/p.rn);g=A.ui.page(o[0],p.nowPage,p.endPage,{onChange:function(z,y){p.nowPage=z;p.pn=(p.nowPage-1)*p.rn;t()}})}else{o.css({display:"none"})}}}function x(){p.nowPage=1;p.listNum=0;e=0;c=0;p.pn=0}this.dispose=function(){if(!n){n=true}g&&g.dispose&&g.dispose()}})})});';   // js字串，不含<script标签
      private static $uiList = 'tabs,img';   // 包含的组件，以','分割的字符串，比如'input,text,button'这样
      
      public static function getHeadCss()
      {
         if (!is_string(self::$cssStr))
         {
            return '';
         }
         return self::$cssStr;
      }
      
      public static function getFootJs()
      {
         if (!is_string(self::$jsStr))
         {
            return '';
         }
         return self::$jsStr;
      }
      
      // 返回数组
      public static function getCssUI()
      {
		 if ( empty(self::$uiList) ) return array();

         $arr = @explode(',', self::$uiList);
         if (!is_array($arr))
         {
            $arr = array();
         }
         return $arr;
      }
   }
