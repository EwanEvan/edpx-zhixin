<?php 
  class CssJs_Util_map_bus
   {
      private static $cssStr = '.op-map-bus-tabs .c-tabs-nav{border:none;background-color:#248bf2;}.op-map-bus-tabs .c-tabs-nav .c-tabs-nav-sep{border-color:#389cff;border-left:none;}.op-map-bus-tabs .c-tabs-nav .c-tabs-nav-li{background-color:#248bf2;color:#fff;_border-color:#248bf2;}.op-map-bus-tabs .c-tabs-nav .c-tabs-nav-selected{border-color:#389cff;border-top-color:#248bf2;background-color:#389cff;}.op-map-bus-content{background-color:#248bf2;}.op-map-bus-info{border-collapse:collapse;border-spacing:0;color:#fff;width:100%;}.op-map-bus-info td{height:74px;padding:12px;background-color:#389cff;vertical-align:top;font-family:"Microsoft YaHei",微软雅黑;font-size:13px;}.op-map-bus-info td.op-map-bus-info-right{*padding-top:16px;}.op-map-bus-info td.op-map-bus-info-left{padding-right:0;}.op-map-bus-info-left{width:86px;text-align:center;}.op-map-bus-info-right-container{position:relative;zoom:1;}.op-map-bus-info-num{height:48px;line-height:48px;padding-bottom:4px;margin:0 auto;font-family:arial;}.op-map-bus-info-tag{width:68px;height:22px;line-height:20px;font-size:16px;margin:0 auto;}.op-map-bus-info-tag-blue{background-color:#2d90f2;}.op-map-bus-info-tag-yellow{background-color:#ffb522;}.op-map-bus-info-start-end{height:30px;font-size:18px;display:inline-block;padding-top:4px;border-collapse:collapse;border-spacing:0;}.op-map-bus-info-start-end td{height:auto;padding:0;line-height:auto;}.op-map-bus-info-start-end td.op-map-bus-info-start{text-align:right;padding-right:8px;}.op-map-bus-info-start-end td.op-map-bus-info-end{text-align:left;padding-left:8px;}.op-map-bus-info-start-end td.op-map-bus-info-derection,.op-map-bus-info-switcher,.op-map-bus-stop-tail,.op-map-bus-stop-sign-right,.op-map-bus-stop-sign-left,.op-map-bus-stop-warn-icon{background:url(http://www.baidu.com/aladdin/img/map_bus/map_bus_1.png) no-repeat;}.op-map-bus-info-start-end td.op-map-bus-info-derection{width:54px;display:inline-block;height:20px;background-position:0 5px;}.op-map-bus-info-info span{display:inline-block;float:left;line-height:20px;}.op-map-bus-info-starttime,.op-map-bus-info-endtime{width:108px;}.op-map-bus-info-switcher-border{position:absolute;background:#fff;top:6px;background-position:-83px 4px;right:-1px;width:58px;height:20px;filter:alpha(opacity=60);opacity:.8;}.op-map-bus-info-switcher{position:absolute;z-index:1;top:7px;right:0;width:32px;height:18px;background-position:-83px 4px;background-color:#389cff;padding-left:24px;cursor:pointer;}.op-map-bus-info-switcher-border-hover{filter:alpha(opacity=100);opacity:1;}.op-map-bus-info-link{position:absolute;bottom:1px;right:0;color:#fff;}.op-map-bus-station{border:2px solid #389cff;background-color:#fff;padding:0 7px 8px;}.op-map-bus-stop{float:left;width:26px;height:132px;text-align:center;font-family:"Microsoft YaHei",微软雅黑;line-height:14px;_line-height:15px;cursor:pointer;word-break:normal;}.op-map-bus-stop a{color:#333;width:20px;height:116px;padding:8px 3px;_padding:6px 1px;text-decoration:none;display:block;}.op-map-bus-stop-tail{display:block;background-position:-62px 2px;width:10px;height:12px;}.op-map-bus-stop a.op-map-bus-stop-hover{padding:7px 2px;_padding:5px 0;border:1px solid #389cff;}.op-map-bus-stop-num{display:inline-block;width:20px;font-family:arial;padding-bottom:6px;cursor:pointer;}.op-map-bus-stop-text{display:inline-block;width:18px;text-align:left;margin-left:3px;cursor:pointer;}.op-map-bus-showmore,.op-map-bus-showless{border-top:1px solid #ebebeb;cursor:pointer;padding-top:2px;margin-top:12px;}.op-map-bus-showmore i,.op-map-bus-showless i{cursor:pointer;_vertical-align:top;}.op-map-bus-showmore-inner,.op-map-bus-showless-inner{text-align:center;color:#00c;position:relative;top:3px;_top:4px;}.op-map-bus-tabs-content{position:relative;-webkit-perspective:1000px;-moz-perspective:1000px;-o-perspective:1000px;}.op-map-bus-tabs-content-inner{-webkit-transform-style:preserve-3d;-webkit-transition:all .7s linear;-moz-transform-style:preserve-3d;-moz-transition:all .7s linear;-o-transform-style:preserve-3d;-o-transition:all .7s linear;}.op-map-bus-z-index400{z-index:400;}.op-map-bus-content{position:absolute;*position:static;width:100%;top:0;left:0;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;-o-backface-visibility:hidden;}.op-map-bus-tabs-content-inner-transform{-webkit-transform:rotateY(180deg);-moz-transform:rotateY(180deg);-o-transform:rotateY(180deg);}.op-map-bus-content-back{-webkit-transform:rotateY(180deg);-moz-transform:rotateY(180deg);-o-transform:rotateY(180deg);}.op-map-bus-stop-diff .op-map-bus-stop-sign-left{display:none;}.op-map-bus-stop-diff .op-map-bus-stop-num{color:#f54545;}.op-map-bus-stop-sign{position:relative;display:inline-block;width:24px;height:12px;}.op-map-bus-stop-sign-right,.op-map-bus-stop-sign-left{position:absolute;left:4px;display:inline-block;width:12px;height:6px;overflow:hidden;}.op-map-bus-stop-sign-right{top:0;background-position-y:-167px;}.op-map-bus-stop-sign-left{bottom:0;background-position-y:-173px;}.op-map-bus-stop-diff .op-map-bus-stop-sign-right,.op-map-bus-stop-diff .op-map-bus-stop-sign-left{background-position-x:-22px;}.op-map-bus-stop-tip{padding:5px 10px 5px 34px;width:240px;}.op-map-bus-stop-warn-icon{position:absolute;top:11px;left:10px;width:17px;height:17px;display:block;background-position:0 -187px;}.op-map-bus-red{color:#f55454;}';  // css字串，不含<style>和</style>标签
      private static $jsStr  = 'A.merge("map_bus",function(){A.setup(function(){var e=this;var j=e.find(".op-map-bus-tabs")[0];var k=e.find(".op-map-bus-tabs-content");var i=null;var a=null;var h=!!(window.attachEvent&&navigator.userAgent.indexOf("Opera")===-1);var f=null;var c=$(document.body);function b(l){this.container=$(l.container);this.contents=this.container.find(".op-map-bus-content");this.bindEvent()}b.prototype={bindEvent:function(){var l=this;$.each(l.contents,function(s,p){var u=$(p);var x=u.find(".op-map-bus-info-switcher-border");var q=u.find(".op-map-bus-info-switcher");var t=u.find(".op-map-bus-showmore");var v=u.find(".op-map-bus-showless");var m=u.find(".op-map-bus-station>ul");var w=u.find(".op-map-bus-stop");var o=$.trim(u.find(".op-map-bus-info-start").html());var r=$.trim(u.find(".op-map-bus-info-end").html());w.hover(function(y){var B=$(this);B.find(">a").addClass("op-map-bus-stop-hover");var z=B.offset();var n=$.trim(B.attr("data-title"));if(B.is(".op-map-bus-stop-diff")){if(!f){f=$(\'<div class="c-tip-con" style="position:absolute;top: \'+(z.top+142)+"px; left: "+z.left+\'px; z-index: 304; display: block;"><div class="c-tip-arrow" style="left: 3px;"><em></em><ins></ins></div><div class="op-map-bus-stop-tip"><span class="op-map-bus-stop-warn-icon"></span><span class="op-map-bus-stop-tip-stopame"></span>站<span class="op-map-bus-stop-tip-start"></span><span class="op-map-bus-red">返程不停靠</span>，乘车时请注意！</div></div>\');c.append(f);f.bind("mouseleave",function(){f.hide()})}else{f.css({top:z.top+142,left:z.left}).show()}f.find(".op-map-bus-stop-tip-stopame").html(n)}},function(n){var y=$(this);y.find(">a").removeClass("op-map-bus-stop-hover");if(f){if(!$.contains(f.get(0),n.relatedTarget)){f.hide()}}});p.showmore=function(){if(t.length){t.hide();v.show();m.slice(1).show();u.data("status","showmore");if(h){var y=u.find(".op-map-bus-info-right-container").css("visibility","hidden"),n=u.find(".op-map-bus-showless-inner").css("visibility","hidden");i=setTimeout(function(){y.css("visibility","visible");n.css("visibility","visible");clearTimeout(i)},0)}}};p.showless=function(){if(v.length){v.hide();t.show();m.slice(1).hide();u.data("status","showless");if(h){var y=u.find(".op-map-bus-info-right-container").css("visibility","hidden"),n=u.find(".op-map-bus-showmore-inner").css("visibility","hidden");i=setTimeout(function(){y.css("visibility","visible");n.css("visibility","visible");clearTimeout(i)},0)}}};t.click(function(){p.showmore();l.container.height(u.height())});v.click(function(){p.showless();l.container.height(u.height())});q.hover(function(){x.toggleClass("op-map-bus-info-switcher-border-hover")}).click(function(){if(u.data("status")){l.contents[s===0?1:0][u.data("status")]()}if(h){u.hide();$(l.contents[s===0?1:0]).show()}else{var y=$(".op-map-bus-content",l.container);var n=[];y.each(function(){n.unshift($(this).css("z-index"))});u.parent().toggleClass("op-map-bus-tabs-content-inner-transform");i=setTimeout(function(){$.each(y,function(B,z){$(this).css("z-index",n[B])});clearTimeout(i)},700)}l.container.addClass("op-map-bus-z-index400");l.container.height($(l.contents[s===0?1:0]).height());a=setTimeout(function(){l.container.removeClass("op-map-bus-z-index400")},700)})})}};if(j){var g=$(j);A.use("tabs5",function(){A.ui.tabs5(g.get(0))})}if(k.length>0){$.each(k,function(m,o){var l=new b({container:o})});var d=$(k[0]);d.height(d.find(".op-map-bus-content").height())}this.dispose=function(){clearTimeout(a);clearTimeout(i);if(f){c.remove(f)}}})});';   // js字串，不含<script标签
      private static $uiList = 'tabs';   // 包含的组件，以','分割的字符串，比如'input,text,button'这样
      
      public static function getHeadCss()
      {
         if (!is_string(self::$cssStr))
         {
            return '';
         }
         return self::$cssStr;
      }
      
      public static function getFootJs()
      {
         if (!is_string(self::$jsStr))
         {
            return '';
         }
         return self::$jsStr;
      }
      
      // 返回数组
      public static function getCssUI()
      {
		 if ( empty(self::$uiList) ) return array();

         $arr = @explode(',', self::$uiList);
         if (!is_array($arr))
         {
            $arr = array();
         }
         return $arr;
      }
   }
