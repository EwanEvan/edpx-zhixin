{%extends 'c_base.tpl'%} {%block name="data_modifier"%}{%if $tplData.morelink%}{%$extData.feData.hasShowURLGap = false%}{%else%}{%$extData.feData.hasShowURLGap = true%}{%/if%}{%/block%}{%block name='content'%}<div class="c-border"> <div class="c-row op-gamehero-top"> <div class="c-span4"> <a href="{%$tplData.url%}" target="_blank"><img class="c-img4 op-gamehero-portrait" src="{%$tplData.portrait%}"/></a> </div> <table class="c-span-last" cellspacing="0" cellpadding="0"> {%foreach $tplData.info as $item%} <tr> <td class="op-gamehero-td"><b>{%$item.tip%}</b></td> <td>{%$item.details|limitlen:114%}</td> </tr> {%/foreach%} </table> </div> {%if $tplData.arm%} <div class="op-gamehero-tabs c-gap-top-small"> {%if !$tplData.arm[1]%}{%$tplData.arm=array($tplData.arm)%}{%/if%} <ul class="c-tabs-nav op-gamehero-tab-nav"> {%foreach $tplData.arm as $item%} <li class="c-tabs-nav-li  OP_LOG_BTN{%if $item@first%} c-tabs-nav-selected{%/if%}" data-click="{'fm':'beha'}">{%$item.tip%}</li> {%/foreach%} </ul> {%foreach $tplData.arm as $item%} <ul class="c-clearfix op-gamehero-tabcnt{%if $item@first%} op-gamehero-tabshow{%/if%}"> {%if $item@first%} <li class="c-gap-top c-clearfix"> {%if $item.early%} <p>前期<b>◆</b></p> {%/if%} {%foreach $item.early as $ls%} <a target="_blank" href="{%$ls.link%}" title="{%$ls.name%}"><img src="{%$ls.src%}" /></a> {%/foreach%} </li> <li class="c-gap-top c-clearfix"> {%if $item.middle%} <p>中期<b>◆</b></p> {%/if%} {%foreach $item.middle as $ls%} <a target="_blank" href="{%$ls.link%}" title="{%$ls.name%}"><img src="{%$ls.src%}" /></a> {%/foreach%} </li> <li class="c-gap-top c-clearfix"> {%if $item.middle%} <p>后期<b>◆</b></p> {%/if%} {%foreach $item.late as $ls%} <a target="_blank" href="{%$ls.link%}" title="{%$ls.name%}"><img src="{%$ls.src%}" /></a> {%/foreach%} </li> <li class="c-gap-top"> <span class="c-gap-right-small">{%$item.abstract|limitlen:132|highlight:0%}{%if $item.armlink%}</span><a target="_blank" href="{%$item.armlink[0].link%}">{%$item.armlink[0].tip%}</a>{%/if%} </li> {%/if%} </ul> {%/foreach%} </div> {%/if%} {%if $tplData.otherlink%} <div class="op-gamehero-other"> {%foreach $tplData.otherlink as $item%} <span><b>●</b><a target="_blank" href="{%$item.link%}">{%$item.tip%}</a></span> {%/foreach%} </div> {%/if%} </div>{%if $tplData.morelink%}<div class="c-gap-top-small"> <a target="_blank" href="{%$tplData.morelink[0].link%}">{%$tplData.morelink[0].tip|highlight:0%}</a></div>{%/if%}<script >
  A.setup({"tab":{%json_encode($tplData.arm)%}});
</script><script>A.init(function() {var T = A.baidu,_this = this,$tabs = _this.find(".c-tabs-nav-li"),tabCnts = _this.find(".op-gamehero-tabcnt").get(); $tabs.each(function(i,e){$(e).click(function(){_this.find(".c-tabs-nav-selected").removeClass("c-tabs-nav-selected");_this.find(".op-gamehero-tabshow").removeClass("op-gamehero-tabshow");$(tabCnts[i]).addClass("op-gamehero-tabshow");$(e).addClass("c-tabs-nav-selected");if ($.trim(tabCnts[i].innerHTML) == '') {tabCnts[i].innerHTML = buildHtml(_th{%*i*%}is.data.tab[i]);}}); }); function buildHtml(arm){var baseHtml = ['<li class="c-gap-top c-clearfix">'];if ( arm.early ) {var len = arm.early.length;baseHtml.push("<p>前期<b>◆</b></p>");for (var i = 0; i <len; i ++) {baseHtml.push('<a target="_blank" href="'+arm.early[i].link + '" title="' + (arm.early[i].name||'') + '"><img src="' + arm.early[i].src + '" /></a>');}}baseHtml.push('</li><li class="c-gap-top c-clearfix">');if ( arm.middle) {var len = arm.middle.length;baseHtml.push("<p>中期<b>◆</b></p>"{%*i*%});for (var i = 0; i <len; i ++) {baseHtml.push('<a target="_blank" href="'+arm.middle[i].link + '" title="' + (arm.middle[i].name||'') + '"><img src="' + arm.middle[i].src + '" /></a>');}}baseHtml.push('</li><li class="c-gap-top c-clearfix">');if ( arm.late) {var len = arm.late.length;baseHtml.push("<p>后期<b>◆</b></p>");for (var i = 0; i <len; i ++) {baseHtml.push('<a target="_blank" href="'+arm.late[i].link + '" title="' + (arm.late[i].name||'') + '"><img src="' + arm.late[i].src + '" /></a>');}{%*i*%}}baseHtml.push('</li><li class="c-gap-top c-clearfix"><span class="c-gap-right-small">'+limitLen(arm.abstract,130)+'</span>' );if (arm.armlink) {baseHtml.push('<a target="_blank" href="' + arm.armlink[0].link +'">' + arm.armlink[0].tip + '</a>');}baseHtml.push('</li>');return baseHtml.join('');}function limitLen(str, len){if ($.getByteLength(str) > len) {return ($.subByte(str, len) + '...');}else {return str;}}});</script>{%/block%}