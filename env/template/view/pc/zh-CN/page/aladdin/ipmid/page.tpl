{%extends 'base.tpl'%} {%block name='content'%}{%$FE_GBVAR.wrapper_prefix%}<style >#op_ipmid{margin-left:20px}#op_ipmid_title{font-size:16px;font-weight:bold;color:#000}#op_ipmid_table{margin-top:10px}#op_ipmid_table span{display:inline-block;line-height:30px;margin-right:10px}#op_ipmid_table span.e{display:none;line-height:15px;color:#F00;font-size:13px}#op_ipmid_table td{text-align:left}#op_ipmid_table select{height:22px;line-height:22px}#op_ipmid_table input{height:18px;line-height:18px;padding-left:2px;vertical-align:middle}#op_ipmid_txt{width:200px}.op_ipmid_btn{b{%*i*%}ackground:transparent url(http://open.baidu.com/stat/op_email_btn.gif) no-repeat scroll -100px 0;color:#000;float:left;cursor:pointer;height:24px;line-height:24px;margin-left:0;text-align:center;text-decoration:none;width:81px;font-size:13px}.op_ipmid_btn:hover,.op_ipmid_btn:active,.op_ipmid_btn:focus{background:transparent url(http://open.baidu.com/stat/op_email_btn.gif) no-repeat scroll 0 0}#op_ipmid_info{font-size:13px;color:#666;line-height:24px}.op_ipmid_res{font-size:14px;line-height:3}.op{%*i*%}_ipmid_res span{margin-right:20px}</style><div id="op_ipmid"><script >function _aMC(o) { var t = o, i = -1; while (t = t.parentNode) { i = parseInt(t.getAttribute('id')); if (i > 0) return i; }}function nc(q) {var p = window.document.location.href, sQ = '', sV = '', mu = '', ref = encodeURIComponent(document.referrer), img = window['BD_PS_C' + (new Date()).getTime()] = new Image();for (v in q) {switch (v) {case 'title': sV = encodeURIComponent(q[v].replace(/<[^<>]+>/g, ''));break;case 'url': sV {%*i*%}= escape(q[v]);break;default: sV = q[v]}sQ += v + '=' + sV + '&'} mu = '&mu=' + escape(self.location);img.src = 'http://nsclick.baidu.com/v.gif?pid=201&pj=ipmid&' + sQ + 'path=' + p + '&rf=' + ref + '&t=' + new Date().getTime();return true;}</script><span id="op_ipmid_title">IP地址查询</span><table id="op_ipmid_table" cellpadding="0" cellspacing="0" ><tr><td><form id="op_ipmid_fm_q" onsubmit="doquery();return false;"><span><input id="op_ipmid_txt" type="text" value="{%if $tplData.origipquery!=""%}{%$tplData.origipquery%}{%/if%}" maxlength="16"><input type="submit" style="display:none"></span></form></td><td><a id="op_ipmid_do" class="op_ipmid_btn" href="#" onclick="return false;">查询</a></td></tr><tr><td><span id="op_ipmid_txt_e" class="e">请输入正确的IP地址或IP段</span></td><td><form id="op_ipmid_fm" method="get" action="http://open.baidu.com/ipsearch/s"><input id="op_ipmid_wd" name="wd" type="hidden" value=""><input name="tn" type="hidden" value="baiduip"></form></td></tr></table><div id="op_ipmid_res1" class="op_ipmid_res"><s{%*i*%}pan>{%if $tplData.origip!=""%}您查询的IP：<b>{%$tplData.origip%}</b>{%/if%}</span><span>{%if $tplData.location!=""%}来自：<b>{%$tplData.location%}</b>{%/if%}</span><span style="margin:20px;font-size:13px;color:#656565">IP数据提供：<a href="http://www.ip138.com/" target="_blank" onmousedown="return nc({'title':this.innerHTML,'url':this.href,'p1':2,'p2':1})">ip138</a></span></div><script >(function() {var isIE = navigator.userAgent.indexOf('MSIE') != -1 && !window.opera;function G(id) {return document.getElementById(id);}function addEvent(elem, type, handler) {if (isIE) {elem.attachEvent('on' + type, (function(elm) {return function() {handler.call(elm);}}){%*i*%}(elem));}else {elem.addEventListener(type, handler, true);}}var btn = G('op_ipmid_do');var txt = G('op_ipmid_txt');var txt_e = G('op_ipmid_txt_e');var fm = G('op_ipmid_fm');var fmwd = G('op_ipmid_wd');var fmq = G('op_ipmid_fm_q');var res1 = G('op_ipmid_res1');window.doquery = function() {txt.value = txt.value.replace(/(\u3000+)|(\u3000+)/g, '');txt.value = txt.value.replace(/( +)|( +)/g, '');var val = txt.value;if (!checkIP(val)) {txt_e.style.display = 'inline';res1.style.display = 'none';}else {%*i*%}{submitIP(val);}};addEvent(txt, 'blur', function() {txt.value = txt.value.replace(/(\u3000+)|(\u3000+)/g, '');txt.value = txt.value.replace(/( +)|( +)/g, '');});addEvent(btn, 'click', function() {var val = txt.value;if (!checkIP(val)) {txt_e.style.display = 'inline';res1.style.display = 'none';}else {submitIP(val);}});function checkIP(txt) {if (txt) {var exp = new RegExp('^(([0-9]|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){2}(\\*{1,3}|[0-9]|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\*{1,3}|[0-9]|[1-9{%*i*%}]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\x24');return exp.test(txt);}else {return false;}}function submitIP(txt) {fmwd.value = txt;nc({'url': 'http://open.baidu.com/ipsearch/s', 'p1': 2, 'p4': 1, 'title': btn.innerHTML, 'q1': txt});fm.submit();}nc({'url': 'http://open.baidu.com/ipsearch/s', 'p1': 0});})();</script></div>{%$FE_GBVAR.wrapper_suffix%}{%/block%}