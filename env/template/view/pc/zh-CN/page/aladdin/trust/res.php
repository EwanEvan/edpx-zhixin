<?php 
  class CssJs_Util_trust
   {
      private static $cssStr = '.op_trust_mainBox{margin:0 -9px 0 -9px;}.op_trust_title{font-size:1.5em;color:#000;text-align:center;font-family:"Microsoft YaHei";}.op_trust_title a{text-decoration:none;margin-left:19px;}.op_trust_title i,.op_trust_info i,.op_trust_tipclose,.op_trust_tip i{background:url(http://www.baidu.com/aladdin/img/trust/trust.jpg) no-repeat;text-indent:-999px;}.op_trust_title i{display:inline-block;width:15px;height:15px;margin-left:5px;vertical-align:middle;overflow:hidden;}.op_trust_tip{width:417px;padding:20px 37px 20px 16px;position:absolute;background:#FFF;display:none;border:1px solid #ccc;z-index:2;border:1px solid #e3e3e3;border-bottom-color:#e0e0e0;border-right-color:#ececec;box-shadow:1px 2px 1px rgba(0,0,0,0.072);-webkit-box-shadow:1px 2px 1px rgba(0,0,0,0.072);-moz-box-shadow:1px 2px 1px rgba(0,0,0,0.072);-o-box-shadow:1px 2px 1px rgba(0,0,0,0.072);}.op_trust_tip i{position:absolute;left:-7px;right:6px;width:7px;height:12px;background-position:-14px 0;}.op_trust_tipclose{position:absolute;top:6px;right:6px;width:16px;height:16px;cursor:pointer;background-position:-47px 0;}.op_trust_main .op_trust_name,.op_trust_searchtit .op_trust_name{padding-left:18px;}.op_trust_sectitle{font-size:.9em;text-align:center;color:#666;}.op_trust_fl{float:right;}.op_trust_titletip{display:none;width:55px;position:absolute;right:6px;text-decoration:none;}.op_trust_info{display:none;position:relative;padding-top:4px;padding-bottom:4px;}.op_trust_info i{position:absolute;width:24px;height:9px;top:-1px;_top:0;right:38px;background-position:-22px 0;overflow:hidden;}.op_trust_switch{text-align:center;}.op_trust_btn_listActive .op_trust_btn_list,.op_trust_active{background:#f6f6f6;}.op_trust_btn_listActive .op_trust_info{background:#f6f6f6;border-top:1px solid #d5d5d5;}.op_trust_hr{border-top:1px solid #ebebeb;display:none;}.op_trust_search{padding-top:10px;padding-bottom:0;padding-left:4px;}.op_trust_search span{padding-top:3px;}.op_trust_page{margin-top:15px;font-size:.9em;clear:both;}.op_trust_page p{color:#00c;text-align:center;line-height:19px;}.op_trust_page_number,.op_trust_page_pre,.op_trust_page_next{border:1px solid #e7ecf0;text-align:center;font-weight:normal;cursor:pointer;margin:0 2px;padding:0 5px;display:inline-block;}.op_trust_page_number_now{font-weight:bold;color:#000;margin:0 8px;display:inline-block;*border:1px solid #fff;}.op_trust_page_more{color:#000;}.op_trust_page_number:hover,.op_trust_page_pre:hover,.op_trust_page_next:hover{border:1px solid #5a9ff1;}.op_trust_reperson{padding-top:10px;display:none;}.op_trust_papers{width:210px;display:inline-block;}.op_trust_btn_list{position:relative;padding-top:2px;padding-bottom:2px;}.op_trust_red{color:#d20000;padding-left:6px;padding-right:2px;}.op_trust_searchlist{width:168px;_width:172px;text-align:right;margin-right:11px;display:inline-block;}.op_trust_pt10{padding-bottom:10px;}.op_trust_foot{text-align:right;font-size:.9em;clear:both;display:none;margin-bottom:-3px;margin-top:-3px;}.op_trust_foot span{color:#ccc;margin:0 8px;}.op_trust_foot{color:#999;}.op_trust_foot a{text-decoration:none;color:#999;}.op_trust_foot a.op_trust_color{color:#0100ce;}.op_trust_foot a:hover,.op_trust_line a:hover{text-decoration:underline;}.op_trust_tdLeft{color:#666;padding-left:18px;width:172px;}.op_trust_tdRight{width:322px;padding-left:4px;padding-right:17px;}.op_trust_scroll{padding-right:10px;}.op_trust_font{font-weight:bold;}.op_trust_font span{font-weight:normal;}.op_trust_dropdown1{width:118px;}.op_trust_searchLine span,.op_trust_searchLine .op_trust_pername,.op_trust_searchLine input,.op_trust_dropdown1{float:left;}.op_trust_page_ser{display:none;text-align:right;padding-bottom:5px;color:#999;font-size:.9em;margin-top:-13px;}.op_trust_page_ser a{text-decoration:none;}.op_trust_page_ser a:hover{text-decoration:underline;}';  // css字串，不含<style>和</style>标签
      private static $jsStr  = 'A.merge("trust",function(){A.setup(function(){var e=this;var z=e.find(".op_trust_main li"),l=e.find(".op_trust_btn_list"),q="",i=e.find(".op_trust_tip:first"),E=e.find(".op_trust_title:first i:first"),n=e.find(".op_trust_btnSearch:first"),d=e.find(".op_trust_pername:first"),M=e.find(".op_trust_tipclose:first"),s=e.find(".op_trust_searchWord:first"),y=e.find(".op_trust_foot:first"),N=e.find(".op_trust_foot").eq(1),I=e.find(".op_trust_search:first"),x=e.find(".op_trust_hr:first"),b=e.find(".op_trust_hr").eq(1),m=e.find(".op_trust_page").eq(0),k=e.find(".op_trust_page").eq(1),o=e.find(".op_trust_page_ser").eq(0),r,f="",c=null,F=("placeholder" in document.createElement("input")),H=true,B=false,J,w=false,v="";var t=e.find(".op_trust_dropdown1")[0];if(e.data.queryparser!="全国"){var j=$(".op_trust_title:first").find("a:first");j.css({cursor:"default",color:"#000"});j[0].setAttribute("href","javascript:;");j[0].removeAttribute("target");$(".op_trust_title:first").removeClass("op_trust_line");o.show()}var g={person:{pageindex:1,nomoreresult:"false",nownum:10,nowPage:1,resultnum:e.data.listNum,pageList:{}},staff:{pageindex:1,nomoreresult:"false",nownum:10,nowPage:1,resultnum:0,pageList:{}}};H?(I.show()&&x.show()&&N.show()):(y.show()&&x.hide());$(".op_trust_mainBox").on("click",l,function(Q){var Q=Q||window.event;var R=Q.target||Q.srcElement;if(R.nodeName.toLowerCase()=="td"){return}!$(R).hasClass("op_trust_btn_list")&&(R=$(R).parent());$(R).parent().toggleClass("op_trust_btn_listActive");var T=$(R).find(".op_trust_titletip:first"),P=$(R).next().is(":hidden");T[0]!=q[0]&&(q!=""&&q.html("展开详情")&&q.hide()&&oldBox.next().hide()&&oldBox.parent().removeClass("op_trust_btn_listActive"));T.html(T.html()=="展开详情"?"收起":"展开详情");$(R).next()[P==true?"show":"hide"]();q=T;oldBox=$(R);var O=$(R).next().find(".op_trust_scroll")[0];if($(O).height()>100){$(O).height(100).css({"border-top":"1px solid #d3d3d3","border-bottom":"1px solid #d3d3d3"})}A.use("scrollbarv",function(){scrollbar=A.ui.scrollbarv({content:O})});var S=$(R).next().find(".opui-scroll-slider")[0];$(O).bind("click",function(U){if(U&&U.stopPropagation){U.stopPropagation()}else{window.event.cancelBubble=true}});$(S).bind("click",function(U){if(U&&U.stopPropagation){U.stopPropagation()}else{window.event.cancelBubble=true}});if(Q&&Q.stopPropagation){Q.stopPropagation()}else{window.event.cancelBubble=true}});$(".op_trust_mainBox").on("mouseover",l,function(O){var O=O||window.event;var P=O.target||O.srcElement;$(P).attr("class")!="c-clearfix op_trust_btn_list"&&(P=$(P).parent());$(P).find(".op_trust_fl:first").show();($(P).hasClass("op_trust_btn_list")?$(P):$(P).find(".op_trust_btn_list")).addClass("op_trust_active").css("cursor","pointer")});$(".op_trust_mainBox").on("mouseout",$(l),function(O){var O=O||window.event;var P=O.target||O.srcElement;$(P).attr("class")!="c-clearfix op_trust_btn_list"&&(P=$(P).parent());var Q=$(P).find(".op_trust_titletip:first");Q.html()!="收起"&&Q.hide();($(P).hasClass("op_trust_btn_list")?$(P):$(P).find(".op_trust_btn_list")).removeClass("op_trust_active").css("cursor","default")});I.click(function(O){if(O&&O.stopPropagation){O.stopPropagation()}else{window.event.cancelBubble=true}});if(!F){h(d)}i.css({left:E.offset().left+20,top:105});E.mouseover(function(){i.show()});E.hover(function(){i.show()},function(){r=setTimeout(function(){i.fadeOut(500)},500)});i.hover(function(){clearInterval(r)},function(){$(this).fadeOut(500)});$(document).click(function(){var P=e.find(".op_trust_item"),O=e.find(".op_trust_info"),Q=e.find(".op_trust_titletip");P.removeClass("op_trust_btn_listActive");Q.html("展开详情").hide();O.hide()});function h(P){var O=$.trim(P.attr("placeholder"));if(O){P.val(O).css("color","#666").focus(function(){if(P.val()==O){P.val("").css("color","")}}).blur(function(){if($.trim(P.val())==""){P.val(O).css("color","#666")}})}}function D(){var O=e.find(".op_trust_info");O.click(function(P){if(P&&P.stopPropagation){P.stopPropagation()}else{window.event.cancelBubble=true}})}D();A.use("dropdown21",function(){J=A.ui.dropdown21(t,{onchange:function(O){v=J.getValue()}})});n.on("click",function(O){c=$.trim(d.val());searchZZ=$.trim(s.val());f=k;if(c==""&&searchZZ==""){return}e.find(".op_trust_hr").eq(1).show();e.find(".op_trust_reperson:first").show();url="http://opendata.baidu.com/api.php?resource_id=6819&query="+encodeURIComponent("失信被执行人名单")+"&cardNum="+encodeURIComponent(searchZZ)+"&iname="+encodeURIComponent(c)+"&areaName="+encodeURIComponent(v)+"&ie=utf-8&oe=utf-8&format=json&t="+(+new Date());$.ajax({url:url,dataType:"jsonp",jsonp:"cb",success:G});w=true;g.staff["nowPage"]=1;if(O&&O.stopPropagation){O.stopPropagation()}else{window.event.cancelBubble=true}});M.click(function(){i.hide()});C(m);function C(S){var R=S[0]==k[0]?"staff":"person";var T=g[R];if(S.length>0){if(T.resultnum>T.nownum){S.css("display","block");var Q=Math.ceil(T.resultnum/T.nownum);L(T.nowPage,Q,S);var P=S.find(".op_trust_page_number");P.click(function(V){T.nowPage=Number($(this).html());p(R);if(V&&V.stopPropagation){V.stopPropagation()}else{window.event.cancelBubble=true}D()});var U=S.find(".op_trust_page_pre").eq(0);if(U.length>0){U.click(function(V){T.nowPage=T.nowPage-1;p(R);if(V&&V.stopPropagation){V.stopPropagation()}else{window.event.cancelBubble=true}})}var O=S.find(".op_trust_page_next").eq(0);if(O.length>0){O.click(function(V){T.nowPage=T.nowPage+1;p(R);if(V&&V.stopPropagation){V.stopPropagation()}else{window.event.cancelBubble=true}})}}else{S.css("display","none")}}}function L(T,Q,P){T=Number(T);Q=Number(Q);var R=[];if(2<=Q&&Q<=7){for(var S=1;S<=Q;S++){R=R.concat([S])}}else{if(Q>=8){if(T<=4){R=[1,2,3,4,5,"M"]}else{if(T>=Q-3){R=[1,"M",Q-4,Q-3,Q-2,Q-1]}else{R=[1,"M",T-1,T,T+1,"M"]}}}}var O=[];if(T!=1){O=O.concat(["<span class=\\"op_trust_page_pre OP_LOG_BTN\\" data-click=\\"{\'fm\':\'beha\'}\\">上一页</span>"])}for(var S=0;S<R.length;S++){if(R[S]=="M"){O=O.concat([\'<span class="op_trust_page_more">…</span>\'])}else{if(R[S]==T){O=O.concat([\'<span class="op_trust_page_number_now">\',R[S],"</span>"])}else{O=O.concat(["<span class=\\"op_trust_page_number OP_LOG_BTN\\" data-click=\\"{\'fm\':\'beha\'}\\">",R[S],"</span>"])}}}if(T!=Q){O=O.concat(["<span class=\\"op_trust_page_next OP_LOG_BTN\\" data-click=\\"{\'fm\':\'beha\'}\\">下一页</span>"])}P.find("p:first").html(O.join(""))}function p(R){f=R=="person"?m:k;var Q=R=="person"?e.find(".op_trust_mainBox:first"):e.find(".op_trust_mainBox").eq(1);var P=g[R]["pageList"]["page"+g[R]["nowPage"]];if(P&&R=="person"){var U=g[R]["pageList"]["data"+g[R]["nowPage"]];var O=U[0].disp_data.length;Q.html(P);u();(O>0)&&C(f);return}var T=g[R]["nowPage"];var S;if(R=="person"){S="http://opendata.baidu.com/api.php?resource_id=6819&query="+encodeURIComponent(e.data.listquery)+"&pn="+(T-1)*10+"&rn=10&ie=utf-8&oe=utf-8&format=json&t="+(+new Date())}else{S="http://opendata.baidu.com/api.php?resource_id=6819&query="+encodeURIComponent("失信被执行人名单")+"&cardNum="+encodeURIComponent(searchZZ)+"&iname="+encodeURIComponent(c)+"&areaName="+encodeURIComponent(v)+"&pn="+(T-1)*10+"&rn=10&ie=utf-8&oe=utf-8&format=json&t="+(+new Date())}$.ajax({url:S,dataType:"jsonp",jsonp:"cb",success:G})}function u(){var O=e.find(".op_trust_mainBox").eq(0).find(".op_trust_name");O.each(function(P,Q){var Q=$(Q);if(Q.text().length>20){Q.html(Q.text().substring(0,20)+"...")}})}function G(T){var U=f;var W;var O=T;var Y=\'<p style="text-align:center;">未找到相关失信被执行人</p>\';if(T.data.length>0){W=T.data[0].result}else{if(U[0]!=m[0]){$(".op_trust_mainBox").eq(1).html(Y);w=false;k.hide();return false}}C(k);if(T.data.length==0){return false}var T={status:"0",data:[{disp_data:[1,3,5,6,5,5,5,5,5,5],listNum:O.data[0].dispNum}]};if(T.status=="0"&&T.data[0].disp_data){var X=W.length;var aa=U[0]==m[0]?"person":"staff";var Z=g[aa];var V=U[0]==m[0]?"":" op_trust_font";var ab=aa=="person"?e.find(".op_trust_mainBox:first"):e.find(".op_trust_mainBox").eq(1);Z.resultnum=T.data[0].listNum;if(X>0){C(U);if(X<10){Z.nomoreresult=true}else{Z.nomoreresult=false}var Q="";for(var S=0;S<X&&S<10;S++){var R="";if(W[S]["businessEntity"]!=""){R=\'<tr><td class="op_trust_tdLeft">法定代表人或者负责人姓名：</td><td class="op_trust_tdRight">\'+W[S]["businessEntity"]+"</td></tr>"}Q+=\'<li class="op_trust_item OP_LOG_BTN" data-click="{\\\'fm\\\':\\\'beha\\\'}"><div class="c-clearfix op_trust_btn_list"><a href="javascript:;" class="op_trust_fl op_trust_titletip">展开详情</a><span class="op_trust_fl op_trust_papers">\'+W[S]["cardNum"]+\'</span><span class="op_trust_name\'+V+\'">\'+W[S]["iname"]+\'</span></div><div class="op_trust_info"><i></i><table width="100%">\'+R+\'<tr><td class="op_trust_tdLeft">执行法院：</td><td class="op_trust_tdRight">\'+W[S]["courtName"]+\'</td></tr><tr><td class="op_trust_tdLeft">省份：</td><td class="op_trust_tdRight">\'+W[S]["areaName"]+\'</td></tr><tr><td class="op_trust_tdLeft">案号：</td><td class="op_trust_tdRight">\'+W[S]["caseCode"]+\'</td></tr><tr><td class="op_trust_tdLeft">生效法律文书确定的义务：</td><td class="op_trust_tdRight"><div style="position:relative;width:100%;overflow:hidden;"><div class="op_trust_scroll" style="overflow:hidden;"><div>\'+W[S]["duty"]+\'</div></div><div class="op_cjlive_scrollbar op_cjlive_ctrl_scroll" style="position:absolute;right:0;top:0;"></div></div></td></tr><tr><td class="op_trust_tdLeft">被执行人的履行情况：</td><td class="op_trust_tdRight">\'+W[S]["performance"]+\'</td></tr><tr><td class="op_trust_tdLeft">失信被执行人行为具体情形：</td><td class="op_trust_tdRight">\'+W[S]["disruptTypeName"]+\'</td></tr><tr><td class="op_trust_tdLeft">发布时间：</td><td class="op_trust_tdRight">\'+W[S]["publishDate"]+"</td></tr></table></div></li>"}var P=$(\'<ul class="op_trust_main">\'+Q+"</ul>");if(aa=="person"&&w!=true){g[aa]["pageList"]["page"+g[aa]["nowPage"]]=\'<ul class="op_trust_main">\'+Q+"</ul>";g[aa]["pageList"]["data"+g[aa]["nowPage"]]=T.data}if(w){$(".op_trust_mainBox").eq(1).html(P);w=false;a()}else{ab.html(P);u()}if(X>10){U.show()}aa=="staff"&&a();D()}else{U.hide()}}else{U.hide()}}function a(){if(!c){return}var O=e.find(".op_trust_mainBox").eq(1).find(".op_trust_name");O.each(function(Q,R){var P=$(R).html().split(c);$(R).html(P.join("<span>"+c+"</span>"));if($(R).text().length>20){$(R).html($(R).text().substring(0,20)+"...")}})}function K(P,O){return P.substr(0,O).replace(/([^\\x00-\\xff])/g,"\\x241 ").substr(0,O).replace(/[^\\x00-\\xff]$/,"").replace(/([^\\x00-\\xff]) /g,"\\x241")+"..."}this.dispose=function(){J&&J.dispose&&J.dispose()}})});';   // js字串，不含<script标签
      private static $uiList = 'input,btn,dropdown2';   // 包含的组件，以','分割的字符串，比如'input,text,button'这样
      
      public static function getHeadCss()
      {
         if (!is_string(self::$cssStr))
         {
            return '';
         }
         return self::$cssStr;
      }
      
      public static function getFootJs()
      {
         if (!is_string(self::$jsStr))
         {
            return '';
         }
         return self::$jsStr;
      }
      
      // 返回数组
      public static function getCssUI()
      {
		 if ( empty(self::$uiList) ) return array();

         $arr = @explode(',', self::$uiList);
         if (!is_array($arr))
         {
            $arr = array();
         }
         return $arr;
      }
   }
