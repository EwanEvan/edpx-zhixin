{%extends 'top_base.tpl'%} {%block name='content'%}<style>.opt-zx-clear{clear:both}.opt-zx a img{border:0}.opt-zx-title,.opt-zx-content-leftbtn,.opt-zx-content-rightbtn,.opt-zx-close,.opt-zx-line,.opt-zx-line-left,.opt-zx-line-right{background:url(http://www.baidu.com/aladdin/img/top_zx/top-sprites.png) no-repeat}.opt-zx-title{font-size:14px;font-weight:bold;font-family:"宋体";padding-left:25px;background-position:left -106px}.opt-zx-close{color:#333;font-size:12px;background-position:27px -84px;width:40px;height:20px;position:absolute;margin:-74p{%*i*%}x 0 0 0;cursor:pointer;text-decoration:underline;text-align:left}.opt-zx-content-first{width:96px;height:120px;border:#c0d7e6 1px solid;background-color:#fff;padding:1px;overflow:hidden;display:inline-block;box-shadow:1px 1px 0 #f4f4f4;text-decoration:none;cursor:pointer}.opt-zx-content-first img{width:96px;height:120px}.opt-zx-content-first-mask{width:96px;height:30px;background-color:#000;position:absolute;margin-top:90px;z-index:2;opacity:.4;filter:alpha(opacity=40);display:inline-block}.opt-{%*i*%}zx-content-first-text{width:96px;height:30px;position:absolute;margin-top:90px;z-index:3;color:#fff;line-height:30px;font-size:14px;font-weight:bold;text-align:center}.opt-zx-content-leftbtn,.opt-zx-content-rightbtn{width:23px;height:37px;display:inline-block;background-position:left 0;margin:0 17px 0 20px}.opt-zx-content-rightbtn{background-position:left -41px}.opt-zx-content-leftbtn-blue{background-position:-23px 0;cursor:pointer}.opt-zx-content-rightbtn-blue{background-position:-23px -41px;cu{%*i*%}rsor:pointer}.opt-zx-content-leftbtn-blue:hover{background-position:-46px 0}.opt-zx-content-rightbtn-blue:hover{background-position:-46px -41px}.opt-zx-content{margin:10px 0;height:96px;border-collapse:collapse}.opt-zx-content td{padding:0;text-align:center}.opt-zx-line{height:4px;margin-top:10px;background-position:0 -147px;overflow:hidden;background-repeat:repeat-x}.opt-zx-line-left{height:4px;width:63px;background-position:0 -133px;float:left}.opt-zx-line-right{height:4px;width:63px;backgroun{%*i*%}d-position:0 -140px;float:right}.opt-zx-content-listContainer{overflow:hidden;position:relative;text-align:left}.opt-zx-content-list{position:relative;text-align:left;white-space:nowrap;display:inline-block;*display:block;padding:3px 0}.opt-zx-content-list-item{display:inline-block;width:98px;padding-bottom:5px;border:1px solid #fff;text-align:center;font-size:12px;color:#666;text-decoration:none;margin-right:20px;transition:all .3s}.opt-zx-content-list-item:hover{border-color:#ededed;background{%*i*%}-color:#f9f9f9}.opt-zx-content-list-item-selected{border-color:#2767ae!important;background-color:#f1f5fa;box-shadow:0 0 3px #bbb}.opt-zx-content-list-item img{margin-top:8px;width:70px;height:70px}.opt-zx-content-list-item-name{font-size:14px;font-weight:bold;text-decoration:underline;line-height:18px}.opt-zx-otherlink{color:#666;font-size:12px;margin-bottom:10px}.opt-zx-otherlink a{margin-right:10px}</style><div class="opt-zx"> <p class="opt-zx-title">搜“{%$tplData.word%}”的人还搜</p> <table class="opt-zx-content"> <tr> <td> {%if $tplData.first[0]%} <a href="{%if $tplData.first[0].link%}{%$tplData.first[0].link%}{%else%}{%build_search_url params="`$tplData.first[0].params`"%}{%/if%}" class="opt-zx-content-first"> <span class="opt-zx-content-first-mask"></span> <span class="opt-zx-content-first-text" title="{%if $tplData.first[0].text%}{%$tplData.first[0].text%}{%else%}{%$tplData.word%}{%/if%}">{%if $tplData.first[0].text%}{%$tplData.first[0].text|limitlen:14%}{%else%}{%$tplData.word%}{%/if%} </span> <img src="{%$tplData.first[0].src%}" /> </a> {%/if%} </td> <td> <span data-click="{'fm':'beha'}" class="opt-zx-content-leftbtn OP_LOG_BTN" style="visibility:hidden"></span> </td> <td id="TABLETD"> <div class="opt-zx-content-listContainer" style="visibility:hidden"> <div class="opt-zx-content-list"> {%foreach $tplData.list as $item%}<a class="opt-zx-content-list-item" title="{%$item.name%}" href="{%if $item.link%}{%$item.link%}{%else%}{%build_search_url params="`$item.params`"%}{%/if%}"> <img src="http://www.baidu.com/aladdin/img/top_zx/top-lazyloading.gif" file="{%$item.src%}" /> <br><span class="opt-zx-content-list-item-name">{%$item.name|limitlen:12%}</span> </a>{%/foreach%} </div> </div> </td> <td> <div data-click="{'fm':'beha'}" class="opt-zx-close OP_LOG_BTN">关闭</div> <span data-click="{'fm':'beha'}" class="opt-zx-content-rightbtn OP_LOG_BTN" style="visibility:hidden"></span> </td> </tr> <tr> <td colspan="4"> <div class="opt-zx-line"> <div class="opt-zx-line-left"></div> <div class="opt-zx-line-right"></div> <div class="opt-zx-clear"></div> </div> </td> </tr> </table> </div><script type="text/javascript">A.init(function(){var baidu = A.baidu, __this = this;var l{%*i*%}eftbtn = this.qq("opt-zx-content-leftbtn"),rightbtn = this.qq("opt-zx-content-rightbtn"),listContainer = this.qq("opt-zx-content-listContainer"), list = this.qq("opt-zx-content-list"), items = this.q("opt-zx-content-list-item"), closebtn = this.qq("opt-zx-close"),container = this.qq("opt-zx"),LIST_ITEM_WIDTH = 120, nlistContainerWidth, nlistWidth,interval;(function(){var sURL = window.document.location.search, sPositionLeft = sURL.match(/top_zx_position_left\=(\-?\d+px)/) ? RegExp.$1 : 0, nIndex{%*i*%} = sURL.match(/zx_tpn\=(\d+)/) ? RegExp.$1 : undefined; if(nIndex && nIndex <= items.length){baidu.dom.addClass(items[nIndex], "opt-zx-content-list-item-selected");}baidu.dom.setStyle(list, "left", sPositionLeft);baidu.dom.setStyle(listContainer, "visibility", "visible");baidu.on(list, "mousedown", function(e){var target = e.target || e.srcElement;if(target.nodeName == "DIV"){return;} else if(target.nodeName != "A"){target = target.parentNode;}var sItemsHref = baidu.dom.getAttr(target, "href"),s{%*i*%}PositionLeft = baidu.dom.getStyle(list, "left");baidu.dom.setAttr(target, "href", sItemsHref.replace(/\?(?:top_zx_position_left\=\-?\d+px\&)?/, "?top_zx_position_left=" + sPositionLeft + "&"));});})();function FilterPX(string){return Number(string.match(/(\-?\d+)/) ? RegExp.$1 : 0);}function CheckBtnStatus(){var nPositionLeft = FilterPX(baidu.dom.getStyle(list, "left"));baidu.dom[nPositionLeft == 0 ? "removeClass" : "addClass"](leftbtn, "opt-zx-content-leftbtn-blue");baidu.dom[nlistContainerWidt{%*i*%}h - nPositionLeft == list.offsetWidth - 20 ? "removeClass" : "addClass"](rightbtn, "opt-zx-content-rightbtn-blue");}function ResizeLR(){nlistContainerWidth = Math.max(document.documentElement.clientWidth - 240, 720);nlistWidth = list.offsetWidth;nlistContainerWidth = nlistContainerWidth - nlistContainerWidth % LIST_ITEM_WIDTH - 20; baidu.dom.setStyle(listContainer, "width", nlistContainerWidth + "px");ImgLazyLoad();if(nlistContainerWidth >= nlistWidth){baidu.dom.setStyle(leftbtn, "visibility", "{%*i*%}hidden");baidu.dom.setStyle(rightbtn, "visibility", "hidden");}else{baidu.dom.setStyle(leftbtn, "visibility", "visible");baidu.dom.setStyle(rightbtn, "visibility", "visible");CheckBtnStatus();}}function ImgLazyLoad(xIndex, yIndex){var nStartImg, nEndImg,nListPositionLeft = Math.abs(FilterPX(baidu.dom.getStyle(list, "left"))),nStartImg = typeof(xIndex) != "undefined" ? xIndex : parseInt(nListPositionLeft / LIST_ITEM_WIDTH),nEndImg = typeof(yIndex) != "undefined" ? yIndex : Math.min(nStartImg + pa{%*i*%}rseInt((nlistContainerWidth + 20) / LIST_ITEM_WIDTH), items.length);for(i=nStartImg; i<nEndImg; i++){var targetImg = items[i].getElementsByTagName("img")[0],targetImgSrc = baidu.dom.getAttr(targetImg, "file");if(targetImgSrc){baidu.dom.setAttr(targetImg, "src", targetImgSrc);targetImg.removeAttribute("file");}}}function CustomAnimation(dom, beginPos, endPos, func){var CURRENT_TIME = 0, DURATION_TIME = 30, INTERVAL_TIME = A.baidu.browser.ie ? 1 : 15, nChangeStep = endPos - beginPos; interval = se{%*i*%}tInterval(function(){if(CURRENT_TIME < DURATION_TIME){baidu.dom.setStyle(dom, "left", EaseTween(CURRENT_TIME, beginPos, nChangeStep, DURATION_TIME) + "px");CURRENT_TIME++;} else {baidu.dom.setStyle(dom, "left", endPos + "px");func();clearInterval(interval);baidu.on(rightbtn, "click", RightBtnClick);baidu.on(leftbtn, "click", LeftBtnClick);}},INTERVAL_TIME);function EaseTween(t,b,c,d){ t = t / d;return Math[c>=0 ? "ceil" : "floor"](-c*t*(t-2)+b);}}baidu.on(window, "resize", ResizeLR);ResizeLR();b{%*i*%}aidu.on(rightbtn, "click", RightBtnClick);baidu.on(leftbtn, "click", LeftBtnClick);baidu.on(closebtn, "click", function(){var area = document.getElementById("con-at");if(area){baidu.dom.hide(area);}});function RightBtnClick(){var nListLeft = FilterPX(baidu.dom.getStyle(list, "left")), nBegin = nListLeft, nExpStep = nlistContainerWidth - nlistContainerWidth % 120, nEnd = Math.max(nBegin - nExpStep, nlistContainerWidth - nlistWidth + 20), nRealStep = nEnd - nBegin;ImgLazyLoad(Math.abs(parseInt(nEn{%*i*%}d / LIST_ITEM_WIDTH))); CustomAnimation(list, nBegin, nEnd, CheckBtnStatus); baidu.un(leftbtn, "click");baidu.un(rightbtn, "click");}function LeftBtnClick(){var nListLeft = FilterPX(baidu.dom.getStyle(list, "left")), nBegin = nListLeft, nExpStep = nlistContainerWidth - nlistContainerWidth % 120, nEnd = Math.min(nBegin + nExpStep, 0), nRealStep = nEnd - nBegin;ImgLazyLoad(Math.abs(parseInt(nEnd / LIST_ITEM_WIDTH))); CustomAnimation(list, nBegin, nEnd, CheckBtnStatus); baidu.un(leftbtn, "click");b{%*i*%}aidu.un(rightbtn, "click");}this.dispose = function(){clearInterval(interval);T.un(window, "resize", ResizeLR);};});</script>{%/block%}