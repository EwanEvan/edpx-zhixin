<?php 
  class CssJs_Util_zx_tv_video
   {
      private static $cssStr = '.op-zx-tv-video-first{width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}.op-zx-tv-video-split{color:#d8d8d8;}.op-zx-tv-video-summary,.op-zx-tv-video-season{padding-left:3em;text-indent:-3em;}.op-zx-tv-video-seasonEp{margin-right:24px;white-space:nowrap;}.op-zx-tv-video-icon{width:16px;height:16px;margin-top:2px;background-repeat:no-repeat;float:left;background-position:center center;display:inline;}.op-zx-tv-video-rgap2{margin-right:2px;}.op-zx-tv-video-tgap4{margin-top:4px;}.op-zx-tv-video-rlt{position:relative;}.op-zx-tv-video-new a{position:relative;}.op-zx-tv-video-new i{position:absolute;right:-10px;top:-5px;}.op-zx-tv-video-drlt .op-zx-tv-video-new{z-index:10;}.op-zx-tv-video-loading{width:100%;height:94px;overflow:hidden;background:url("http://www.baidu.com/aladdin/img/videoidea/loading_L.gif") no-repeat center center;}.op-zx-tv-video-more{color:#00c;position:relative;cursor:pointer;text-decoration:underline;clear:both;}.op-zx-tv-video-more .op-zx-tv-video-more-up{display:block;width:100%;display:none;clear:both;}.op-zx-tv-video-more .op-zx-tv-video-more-down{display:block;width:100%;clear:both;}.op-zx-tv-video-juhe-conts{padding:0;}.op-zx-tv-video-juhe-conts .op-zx-tv-video-juhe-cont{display:none;}.op-zx-tv-video-juhe-conts .op-zx-tv-video-juhe-curcont{display:block;color:#666;}.op-zx-tv-video-juhe-menu{height:auto;clear:both;border-bottom:1px solid #eee;color:#666;padding:5px 0 10px 0;}.op-zx-tv-video-juhe-menu .op-zx-tv-video-juhe-link{color:#00c;text-decoration:underline;cursor:pointer;zoom:1;width:16.6%;float:left;display:inline;}.op-zx-tv-video-juhe-menu .op-zx-tv-video-juhe-cur-link{color:#333;text-decoration:none;cursor:text;}.op-zx-tv-video-moreseason{position:absolute;height:32px;line-height:32px;top:2px;right:130px;}.op-zx-tv-video-moreseason a{text-decoration:none;}.op-zx-tv-video-hidden{display:none!important;}.op-zx-tv-video-error{text-align:center;}.op-zx-tv-video-error span{text-decoration:underline;color:#00c;cursor:pointer;}.op-zx-video-onesite{position:absolute;top:8px;right:18px;z-index:100;white-space:nowrap;}.op-zx-tv-video-econ .op-zx-tv-video-more,.op-zx-tv-video-econ .op-zx-tv-video-juhe-menu{display:none;}.op-zx-video-sitecon{width:104px;position:absolute;top:6px;right:5px;z-index:100;}.op-zx-tv-video-rtop{position:relative;}.op-zx-tv-video-net{position:absolute;right:0;top:0;color:#666;}.op-zx-video-sites .c-dropdown2{line-height:1.54;}.op-zx-video-sites .c-dropdown2,.op-zx-video-sites .c-dropdown2 .c-dropdown2-btn,.op-zx-video-sites .c-dropdown2 .c-dropdown2-btn-group,.op-zx-video-sites .c-dropdown2 .c-dropdown2-btn-icon,.op-zx-video-sites .c-dropdown2-btn-icon-border{height:20px;line-height:1.54;}.op-zx-video-sites .c-dropdown2-btn-icon,.op-zx-video-sites .c-dropdown2-btn-icon-border{width:20px;}.op-zx-video-sites .c-dropdown2-option{text-indent:10px;}.op-zx-video-sites .c-dropdown2-option a{display:block;color:#333;text-decoration:none;width:100%;height:20px;}.op-zx-tv-video-rlt .c-tabs-nav-li{line-height:1.85;padding-left:12px;padding-right:12px;}.op-zx-tv-video-rlt .c-tabs-nav .c-tabs-nav-sep{height:20px;}.op-zx-tv-video-rlt .c-dropdown2 .c-dropdown2-btn-icon{padding-left:5px;}';  // css字串，不含<style>和</style>标签
      private static $jsStr  = 'A.merge("zx_tv_video",function(){A.setup(function(){var l=this;var j=l.data.finish,q=l.data.temp,f=l.data.sid,t=l.data.vlinktext;var o=false;var i=null,p;var h=false,n=l.find(".op-zx-video-sitecon"),c=$(l.find(".c-tabs-content")),m=l.find(".op-zx-tv-video-loading"),r=l.find(".op-zx-video-onesite");function g(v,u){if(v.hasClass("c-dropdown2")){A.use("dropdown21",function(){p=A.ui.dropdown21(v.get(0),{onchange:function(){var y=c.filter(":visible"),z=p.getIndex(),B=p.get(z),C=y.find(".op-zx-tv-video-dtl").eq(z),D=C.find(".op-zx-tv-video-juhe-cont"),E=$.parseJSON(B.value);y.find(".op-zx-tv-video-dtl").filter(":visible").addClass("op-zx-tv-video-hidden");C.removeClass("op-zx-tv-video-hidden");a(E,0,16,C,D,y);C.find(".op-zx-tv-video-juhe-link").eq(0).click();var G=C.find(".op-zx-tv-video-more-up").eq(0),F=C.find(".op-zx-tv-video-juhe-curcont"),w=C.find(".op-zx-tv-video-juhe-menu"),x=C.find(".op-zx-tv-video-more-down");if(F.length>0){F.find("ul").eq(0).show().siblings("ul").hide()}x.css("display","block");G.css("display","none");if(w.length>0){w.addClass("op-zx-tv-video-hidden")}}})})}}function s(){var w=c.filter(":visible");var B=0;if(n.length>0){var D=$.parseJSON(w.find(".op-zx-tv-video-dtl").eq(0).attr("data-value")).season;var C=q[D];var E=$.parseJSON(p.getValue()).key;p.removeAll();var v=0;for(var x=0;x<C.length;x++){if(E==C[x].key){v=1}else{v=0}p.add({value:\'{"cnt":"\'+C[x].cnt+\'","key":"\'+C[x].key+\'","season":"\'+C[x].season+\'"}\',selected:v,text:\'<b  class="c-gap-right-small op-zx-tv-video-icon" style="background-image:url(\'+C[x].icon+\')"></b>\'+C[x].title})}if(C.length>1){r.addClass("op-zx-tv-video-hidden");n.removeClass("op-zx-tv-video-hidden")}else{r.html(\'<b class="c-gap-right-small op-zx-tv-video-icon" style="background-image:url(\'+C[0].icon+\')"></b>\'+C[0].title);r.attr("data-value",\'{"cnt":"\'+C[0].cnt+\'","key":"\'+C[0].key+\'","season":"\'+C[0].season+\'"}\');r.removeClass("op-zx-tv-video-hidden");n.addClass("op-zx-tv-video-hidden")}B=p.getIndex()}var u=w.find(".op-zx-tv-video-dtl").eq(B),z=$.parseJSON(u.attr("data-value")),y=u.find(".op-zx-tv-video-juhe-cont").eq(0);u.removeClass("op-zx-tv-video-hidden").siblings(".op-zx-tv-video-dtl").addClass("op-zx-tv-video-hidden");a(z,0,16,u,y,w);u.find(".op-zx-tv-video-juhe-link").eq(0).click();u.find(".op-zx-tv-video-more-up").eq(0).click()}function b(x){var w="";var u=parseInt((x+96-1)/96);if(j==1){for(var v=1;v<=u;v++){if(v==1){w+="<div class=\'op-zx-tv-video-juhe-link op-zx-tv-video-juhe-cur-link OP_LOG_OTHERS\' data-flag=\'1\'>"+((v-1)*96+1)+"~"+(v*96)+t+"</div>"}else{if(v==u){if((v-1)*96+1==u){w+="<div class=\'op-zx-tv-video-juhe-link OP_LOG_OTHERS\' data-flag=\'0\'>"+x+t+"</div>"}else{w+="<div class=\'op-zx-tv-video-juhe-link OP_LOG_OTHERS\' data-flag=\'0\'>"+((v-1)*96+1)+"~"+x+t+"</div>"}}else{w+="<div class=\'op-zx-tv-video-juhe-link OP_LOG_OTHERS\' data-flag=\'0\'>"+((v-1)*96+1)+"~"+(v*96)+t+"</div>"}}}}else{for(var v=1;v<=u;v++){if(v==1){w+="<div class=\'op-zx-tv-video-juhe-link op-zx-tv-video-juhe-cur-link OP_LOG_OTHERS\' data-flag=\'1\'>"+(x-96+1)+"~"+x+t+"</div>"}else{if(v!=u){w+="<div class=\'op-zx-tv-video-juhe-link OP_LOG_OTHERS\' data-flag=\'0\'>"+(x-96*(v-1))+"~"+(x-96*(v)+1)+t+"</div>"}else{if(x-(u-1)*96==1){w+="<div class=\'op-zx-tv-video-juhe-link OP_LOG_OTHERS\' data-flag=\'0\'>"+1+t+"</div>"}else{w+="<div class=\'op-zx-tv-video-juhe-link OP_LOG_OTHERS\' data-flag=\'0\'>"+1+"~"+(x-(u-1)*96)+t+"</div>"}}}}}return w}function k(){$(".op-zx-tv-video-juhe-link").click(function(){if(h){return}var C=$(this);if(!C.hasClass("op-zx-tv-video-juhe-cur-link")){var x=$(this).parents(".op-zx-tv-video-dtl"),B=x.find(".op-zx-tv-video-juhe-link").index(this),v=x.find(".op-zx-tv-video-juhe-cur-link").eq(0),y=x.find(".op-zx-tv-video-juhe-curcont").eq(0),u=x.find(".op-zx-tv-video-juhe-cont").eq(B),w=x.parents(".c-tabs-content"),z=$.parseJSON(x.attr("data-value"));a(z,B*96,96,C,u,w);v.removeClass("op-zx-tv-video-juhe-cur-link");y.removeClass("op-zx-tv-video-juhe-curcont");C.addClass("op-zx-tv-video-juhe-cur-link");u.addClass("op-zx-tv-video-juhe-curcont");u.find("ul").show()}})}function d(u,v){u.removeClass("op-zx-tv-video-hidden");v.addClass("op-zx-tv-video-hidden")}function a(B,u,x,C,y,z){if(C.attr("data-flag")=="1"){d(z,m);return}h=true;d(m,z);if(B.season){var w="vlink[key="+B.key+",season="+B.season+"]"}else{var w="vlink[key="+B.key+"]"}if(f>=6000&&f<=7000){var v="http://opendata.baidu.com/api.php?format=json&ie=utf-8&oe=utf-8&query="+encodeURIComponent(l.data.key)+encodeURIComponent(B.title)+"&co="+w+"&apn="+u+"&arn="+x+"&resource_id="+f}else{var v="http://opendata.baidu.com/api.php?format=json&ie=utf-8&oe=utf-8&query="+encodeURIComponent(l.data.key)+"&co="+w+"&apn="+u+"&arn="+x+"&resource_id="+f}$.ajax({url:v,dataType:"jsonp",timeout:6000,jsonp:"cb",success:function(D){if(D.data[0]&&D.data[0].vlink){if(o){return}h=false;e(D,y,z);C.attr("data-flag","1");z.removeClass("op-zx-tv-video-econ")}else{C.attr("data-flag","0");h=false;d(z,m);z.addClass("op-zx-tv-video-econ");y.html(\'<p class="c-gap-top op-zx-tv-video-error">抱歉，网络发生错误，<span>请刷新</span></p>\');y.parents(".op-zx-tv-video-dtl").attr("data-flag","0").find(".op-zx-tv-video-more-down").attr("data-flag","0");y.find("span").click(function(){var E=$(this).parents(".op-zx-tv-video-dtl");E.attr("data-flag","0");var F=$.parseJSON(E.attr("data-value"));$sdom=E.find(".op-zx-tv-video-juhe-cont");a(F,0,16,E,$sdom,E.parents(".c-tabs-content"))})}},error:function(){C.attr("data-flag","0");h=false;d(z,m);z.addClass("op-zx-tv-video-econ");y.html(\'<p class="c-gap-top op-zx-tv-video-error">抱歉，网络发生错误，<span>请刷新</span></p>\');y.parents(".op-zx-tv-video-dtl").attr("data-flag","0").find(".op-zx-tv-video-more-down").attr("data-flag","0");y.find("span").click(function(){var D=$(this).parents(".op-zx-tv-video-dtl");D.attr("data-flag","0");var E=$.parseJSON(D.attr("data-value"));$sdom=D.find(".op-zx-tv-video-juhe-cont");a(E,0,16,D,$sdom,D.parents(".c-tabs-content"))})}})}function e(z,y,B){var z=z.data[0].vlink,x="";if(!z){return}var u=z.length;for(var w=0,v=0;w<u;w++){if(w%16==0){x+=\'<ul  class="c-numberset">\';v++}x+=\'<li class="c-gap-top\';if(w%8==7){x+=" c-numberset-last"}if(z[w].latest=="true"){x+=" op-zx-tv-video-new"}if(z[w].linkurl){x+=\'"><a target="_blank" href="\'+z[w].linkurl}else{x+=\'"><a href="javascript:;" style="color:#666;"\'}x+=\'">\'+z[w].linkcontent+l.data.vtxt;if(z[w].latest=="true"){x+=\'<i class="c-text c-text-danger">新</i>\'}x+="</a></li>";if(w==v*16-1||w==u-1){x+="</ul>"}}y.html(x);i=setTimeout(function(){B.removeClass("op-zx-tv-video-hidden");m.addClass("op-zx-tv-video-hidden")},250)}g(n,0);A.use("tabs5",function(){A.ui.tabs5(l.find(".c-tabs")[0],{onChange:function(){h=false;s()}})});$(".op-zx-tv-video-more-down").click(function(){if(h){return}var z=$(this),u=z.next(".op-zx-tv-video-more-up"),w=z.parents(".op-zx-tv-video-dtl"),y=w.find(".op-zx-tv-video-juhe-menu"),v=w.find(".op-zx-tv-video-juhe-curcont"),x=$.parseJSON(w.attr("data-value")),B=parseInt(x.cnt);if(z.attr("data-flag")=="0"){if(B>96){y.html(b(B));k()}a(x,0,96,z,v,w.parents(".c-tabs-content"))}z.css("display","none");u.css("display","block");if(v){v.find("ul").show()}if(B>96){y.removeClass("op-zx-tv-video-hidden")}});l.find(".op-zx-tv-video-more-up").bind("click",function(){var u=$(this),w=u.parents(".op-zx-tv-video-dtl"),v=w.find(".op-zx-tv-video-juhe-curcont"),x=w.find(".op-zx-tv-video-juhe-menu"),y=w.find(".op-zx-tv-video-more-down");if(v.length>0){v.find("ul").eq(0).show().siblings("ul").hide()}y.css("display","block");u.css("display","none");if(x.length>0){x.addClass("op-zx-tv-video-hidden")}});this.dispose=function(){clearTimeout(i);if(!o){o=true}p&&p.dispose&&p.dispose()}})});';   // js字串，不含<script标签
      private static $uiList = 'img,numberset,tabs,dropdown2,btn';   // 包含的组件，以','分割的字符串，比如'input,text,button'这样
      
      public static function getHeadCss()
      {
         if (!is_string(self::$cssStr))
         {
            return '';
         }
         return self::$cssStr;
      }
      
      public static function getFootJs()
      {
         if (!is_string(self::$jsStr))
         {
            return '';
         }
         return self::$jsStr;
      }
      
      // 返回数组
      public static function getCssUI()
      {
		 if ( empty(self::$uiList) ) return array();

         $arr = @explode(',', self::$uiList);
         if (!is_array($arr))
         {
            $arr = array();
         }
         return $arr;
      }
   }
