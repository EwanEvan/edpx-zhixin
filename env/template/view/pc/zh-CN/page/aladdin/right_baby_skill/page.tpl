{%extends 'c_right_base.tpl'%} {%block name='content'%}{%function opr_right_baby_skill_progress_text data=''%}{%if $data%}{%str_replace(['#{total}', '#{got}', '#{remains}'], [
    implode('', ['<span class="opr_right_baby_skill_total">', $data.total|escape:'html', '</span>']), 
    implode('', ['<span class="opr_right_baby_skill_got">', $data.got|escape:'html', '</span>']), 
    implode('', ['<span class="opr_right_baby_skill_remains">', $data.remains|escape:'html', '</span>']) 
], $data.text)%}{%/if%}{%/function%}<div class="cr-content"> <div class="opr_right_baby_skill_stage_locator c-gap-bottom"> <div class="cr-title c-gap-bottom"> <span>{%$tplData.stage[0].title|escape:'html'%}</span> </div> <div class="opr_right_baby_skill_stage_radio_set"> <div class="opr_right_baby_skill_stage_radio{%if $tplData.stage[0].selected == 'prepare'%} opr_right_baby_skill_stage_radio_checked{%/if%} OP_LOG_BTN" data-click="{fm:'beha'}" data-val="prepare"{%if $tplData.stagePrepare.query[0].text%} data-q="{%$tplData.stagePrepare.query[0].text|escape:'html'%}"{%/if%}> <i></i> <div>{%$tplData.stage[0].prepareText|escape:'html'%}</div> </div> <div class="opr_right_baby_skill_stage_radio{%if $tplData.stage[0].selected == 'pregnancy'%} opr_right_baby_skill_stage_radio_checked{%/if%} OP_LOG_BTN" data-click="{fm:'beha'}" data-val="pregnancy"{%if $tplData.stagePregnancy.query[0].text%} data-q="{%$tplData.stagePregnancy.query[0].text|escape:'html'%}"{%/if%}> <i></i> <div>{%$tplData.stage[0].pregnancyText|escape:'html'%}</div> </div> <div class="opr_right_baby_skill_stage_radio{%if $tplData.stage[0].selected == 'baby'%} opr_right_baby_skill_stage_radio_checked{%/if%} OP_LOG_BTN" data-click="{fm:'beha'}" data-val="baby"{%if $tplData.stageBaby.query[0].text%} data-q="{%$tplData.stageBaby.query[0].text|escape:'html'%}"{%/if%}> <i></i> <div>{%$tplData.stage[0].babyText|escape:'html'%}</div> </div> </div> </div> <div class="opr_right_baby_skill_stage opr_right_baby_skill_stage_prepare{%if $tplData.stage[0].selected != 'prepare'%} opr_right_baby_skill_hide{%/if%}"> {%if $tplData.stagePrepare.title%} <div class="opr_right_baby_skill_result_title c-gap-bottom"> <span>{%$tplData.stagePrepare.title[0].text|escape:'html'%}</span> </div> {%/if%} {%if $tplData.stagePrepare.tip%} <div class="c-gap-bottom"> {%$tplData.stagePrepare.tip[0].text|escape:'html'%} <a href="{%$tplData.stagePrepare.tip[0].linkUrl%}" target="_blank">{%$tplData.stagePrepare.tip[0].linkText|escape:'html'%}</a> </div> {%/if%} </div> <div class="opr_right_baby_skill_stage opr_right_baby_skill_stage_pregnancy{%if $tplData.stage[0].selected != 'pregnancy'%} opr_right_baby_skill_hide{%/if%}"> <div class="c-gap-bottom"> <span class="opr_right_baby_skill_cal c-input OP_LOG_BTN"> <i class="c-icon c-icon-calendar" data-click="{fm:'beha'}"></i> <input class="opr_right_baby_skill_choose_pregnancy opr_right_baby_skill_hold" readonly="readonly" value="{%$tplData.stagePregnancy.placeHolder[0].text|escape:'html'%}" data-click="{fm:'beha'}" autocomplete="off"> </span> <a class="opr_right_baby_skill_pregnancy_cf c-btn c-btn-primary c-btn-disable OP_LOG_BTN" data-click="{fm:'beha'}">确认</a> </div> {%if $tplData.stagePregnancy.placeHolder[0].msg%} <div class="opr_right_baby_skill_msg c-gap-bottom">{%$tplData.stagePregnancy.placeHolder[0].msg|escape:'html'%}</div> {%/if%} {%if $tplData.stagePregnancy.tip%} <div class="c-gap-bottom"> {%$tplData.stagePregnancy.tip[0].text|escape:'html'%} <a href="{%$tplData.stagePregnancy.tip[0].linkUrl%}" target="_blank">{%$tplData.stagePregnancy.tip[0].linkText|escape:'html'%}</a> </div> {%/if%} </div> <div class="opr_right_baby_skill_stage opr_right_baby_skill_stage_baby{%if $tplData.stage[0].selected != 'baby'%} opr_right_baby_skill_hide{%/if%}"> <div class="c-gap-bottom"> <span class="opr_right_baby_skill_cal c-input OP_LOG_BTN"> <i class="c-icon c-icon-calendar" data-click="{fm:'beha'}"></i> <input class="opr_right_baby_skill_choose_baby opr_right_baby_skill_hold" readonly="readonly" value="{%$tplData.stageBaby.placeHolder[0].text|escape:'html'%}"  data-click="{fm:'beha'}" autocomplete="off"> </span> <a class="opr_right_baby_skill_baby_cf c-btn c-btn-primary c-btn-disable OP_LOG_BTN" data-click="{fm:'beha'}">确认</a> </div> {%if $tplData.stageBaby.placeHolder[0].msg%} <div class="opr_right_baby_skill_msg c-gap-bottom">{%$tplData.stageBaby.placeHolder[0].msg|escape:'html'%}</div> {%/if%} {%if $tplData.stageBaby.tip%} <div class="c-gap-bottom"> {%$tplData.stageBaby.tip[0].text|escape:'html'%} <a href="{%$tplData.stageBaby.tip[0].linkUrl%}" target="_blank">{%$tplData.stageBaby.tip[0].linkText|escape:'html'%}</a> </div> {%/if%} </div><div class="cr-title c-gap-bottom-small"> <span class="opr_right_baby_skill_title">{%$tplData.skillTitle[0].text|escape:'html'%}</span> </div> <div class="c-gap-bottom-small"> <div class="c-gap-bottom-small">{%opr_right_baby_skill_progress_text data=$tplData.skillProgress[0]%}</div> <div class="opr_right_baby_skill_progress"> <div class="opr_right_baby_skill_progress_e"> <div class="opr_right_baby_skill_progress_val" style="width:{%$tplData.skillProgress[0].got / $tplData.skillProgress[0].total * 100%}%"> <div class="opr_right_baby_skill_progress_e"></div> </div> </div> </div> </div><div class="opr_right_baby_skill_list c-gap-bottom"> {%foreach $tplData.skill as $skill%} {%if $skill@index == 5%}{%break%}{%/if%} <div class="opr_right_baby_skill_a"><i>get√</i><a href="{%$skill.linkUrl%}" target="_blank">{%$skill.linkText|escape:'html'%}</a></div> {%/foreach%} </div> {%if $tplData.changeBtn%} <div class="c-gap-bottom"> <a class="opr_right_baby_skill_change c-btn OP_LOG_BTN" data-click="{fm:'beha'}">{%$tplData.changeBtn[0].text|escape:'html'%}</a> </div> {%/if%} {%if $tplData.pageLink%} <div class="opr_right_baby_skill_pager c-gap-bottom"> <a href="javascript:void(0);" class="opr_right_baby_skill_prev c-gap-right{%if !$tplData.pageLink[0].prevText%} opr_right_baby_skill_hide{%/if%} OP_LOG_BTN" data-q="{%$tplData.pageLink[0].prevQuery|escape:'html'%}" data-click="{fm:'beha'}">{%$tplData.pageLink[0].prevText|escape:'html'%}</a><a href="javascript:void(0);" class="opr_right_baby_skill_next{%if !$tplData.pageLink[0].nextText%} opr_right_baby_skill_hide{%/if%} OP_LOG_BTN" data-q="{%$tplData.pageLink[0].nextQuery|escape:'html'%}" data-click="{fm:'beha'}">{%$tplData.pageLink[0].nextText|escape:'html'%}</a> </div> {%/if%} {%if $tplData.loginTip%} <div class="c-gap-bottom opr_right_baby_skill_tip"> {%$tplData.loginTip[0].preText|escape:'html'%} <a href="{%$tplData.loginTip[0].linkUrl%}" target="_blank">{%$tplData.loginTip[0].linkText|escape:'html'%}</a>{%$tplData.loginTip[0].sufText|escape:'html'%} </div> {%/if%}</div><script >
A.setup({
    pregResult: {%$tplData.stagePregnancy.result[0]|json_encode%},
    babyResult: {%$tplData.stageBaby.result[0]|json_encode%},
    progress: {%$tplData.skillProgress[0]|json_encode%},
    srcid: {%$extData.resourceid|json_encode%},
    fetchkey:'{%str_replace($extData.resourceid|cat:'_','',$extData.fetchkey)|escape:'html'|escape:'javascript'%}'
});
</script>{%/block%}