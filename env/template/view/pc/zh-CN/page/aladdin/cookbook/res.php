<?php 
  class CssJs_Util_cookbook
   {
      private static $cssStr = '.op-cookbook-title{font-size:1.07em;font-weight:bold;margin-bottom:8px;}.op-cookbook-tab{cursor:pointer;display:block;color:#333;text-decoration:none;}.op-cookbook-img{display:block;position:relative;}.op-cookbook-info{background:#f2f2f2;padding:2px 0;}.op-cookbook-border{display:none;position:absolute;top:0;left:0;height:100%;}.op-cookbook-border div{border:2px solid #388bff;border-bottom:none;height:100%;}.op-cookbook-active .op-cookbook-border,.op-cookbook-hover .op-cookbook-border{display:block;}.op-cookbook-active .op-cookbook-info,.op-cookbook-active .op-cookbook-info span,.op-cookbook-hover .op-cookbook-info,.op-cookbook-hover .op-cookbook-info span{background:#388bff;color:#fff;}.op-cookbook-cont{position:relative;border-top:1px solid #e3e3e3;z-index:100;margin-bottom:-4px;}.op-cookbook-bigsize01{font-size:1.07em;line-height:1.6;}.op-cookbook-bigsize02{font-size:1.07em;line-height:1.75;}.op-cookbook-left{width:47px;}.op-cookbook-right{position:relative;margin-left:47px;border-left:2px solid #d9d9d9;zoom:1;}.op-cookbook-ins1,.op-cookbook-ins2{display:block;width:0;height:0;position:absolute;top:0;left:41px;font-size:0;line-height:0;border:7px solid #000;border-style:solid dashed dashed dashed;border-color:#e3e3e3 transparent transparent transparent;}.op-cookbook-ins2{top:-1px;border-color:#fff transparent transparent transparent;}.op-cookbook-dots{position:absolute;width:6px;height:12px;left:-4px;top:4px;background:#fff url(http://www.baidu.com/aladdin/img/ingredients/dots.png) no-repeat;background-position:left 0;overflow:hidden;}.op-cookbook-firstdot{height:18px;top:0;background-position:left 6px;}.op-cookbook-lastdot{height:18px;}.op-cookbook-gapl{margin-left:14px;}.op-cookbook-padb{padding-bottom:12px;}.op-cookbook-nobr{white-space:nowrap;}.op-cookbook-clear{clear:left;width:0;height:0;overflow:hidden;}.op-cookbook-showurl{margin-left:62px;}.op-cookbook-numbold{font-weight:bold;font-family:"Microsoft YaHei",SimHei;}.op-cookbook-more,.op-cookbook-less{border-top:1px solid #ebebeb;width:100%;text-align:center;cursor:pointer;padding-top:5px;}.op-cookbook-box{position:relative;zoom:1;z-index:1;margin-top:12px;margin-bottom:12px;}.op-cookbook-box-hidden{height:200px;overflow:hidden;}.op-cookbook-load{margin-left:auto;margin-right:auto;margin-top:75px;}.op-cookbook-hidden{display:none;}.op-cookbook-bold{font-weight:bold;}.op-cookbook-fr{float:right;display:inline;}.op-cookbook-fl{float:left;display:inline;}.op-cookbook-gapb{margin-bottom:11px;}';  // css字串，不含<style>和</style>标签
      private static $jsStr  = 'A.merge("cookbook",function(){A.setup(function(){var e=this;var c=e.find(".op-cookbook-tab");var b=e.find(".op-cookbook-cont");if(e.data.platform!="ipad"){c.on("mouseover",function(){$(this).addClass("op-cookbook-hover")});c.on("mouseout",function(){$(this).removeClass("op-cookbook-hover")})}c.on("click",function(){var g=c.index(this);var f=$(this);c.filter(".op-cookbook-active").removeClass("op-cookbook-active");f.addClass("op-cookbook-active");b.not(".op-cookbook-hidden").addClass("op-cookbook-hidden");b.eq(g).removeClass("op-cookbook-hidden");var i=f.attr("data-flag");if(parseInt(i)==0){var h=f.attr("tabid");var k=e.data.key;var j="http://opendata.baidu.com/api.php?format=json&ie=utf-8&oe=utf-8&query="+encodeURIComponent(k)+"&co=tab[id="+encodeURIComponent(h)+"]&apn=0&arn=96&resource_id="+e.data.sid;$.ajax({url:j,dataType:"jsonp",jsonp:"cb",timeout:6000,success:function(l){if(l.data[0]){b.eq(g).find(".op-cookbook-main").html(a(l.data[0]));d(b.eq(g));f.attr("data-flag",1)}}})}});function a(m){var k="";var m=m.tab[0];for(var n=0;n<m.content.length;n++){var o=m.content[n];var h="";var q="";var g="c-clearfix";var r="op-cookbook-dots ";if(n==0){r+=" op-cookbook-firstdot";h=" op-cookbook-bigsize01"}else{if(n==(m.content.length-1)&&n>1){r+=" op-cookbook-lastdot";g=""}}if(n==1){h=" op-cookbook-bigsize02"}k+=\'<div class="\'+g+\'">\';k+=\'<label class="c-gray op-cookbook-fl op-cookbook-left op-cookbook-bigsize01"><span class="c-gap-left-small">\'+$.subByte(o.name,10)+"</span></label>";k+=\'<div class="op-cookbook-right">\';k+=\'<span class="\'+r+\'">&nbsp;</span>\';if(o.change&&m.sumpic){k+=\'<p class="c-gap-bottom-small op-cookbook-gapl op-cookbook-bigsize02">当前为图文模式，换成<a href="javascript:;" class="op-cookbook-changetxt">文本模式</a></p><p class="c-gap-bottom-small op-cookbook-gapl op-cookbook-bigsize02 op-cookbook-hidden">当前为文本模式，换成<a href="javascript:;" class="op-cookbook-changepic">图文模式</a></p>\';q=" c-gap-right-small op-cookbook-numbold"}k+=\'<table class="op-cookbook-gapl" cellspacing="0" cellpadding="0">\';for(var l=0;l<o.tip.length;l++){var p=o.tip[l];var f="";if(l==(o.tip.length-1)&&n!=(m.content.length-1)){f=" op-cookbook-gapb"}k+="<tr>";k+=\'<td valign="top" class="op-cookbook-nobr">\';if(p.pic){k+=\'<div class="c-gap-top-small c-gap-right op-cookbook-img \'+f+\'">\';if(l<2){k+=\'<img src="\'+p.pic+\'" class="c-img c-img6" data-nolog="1"  />\'}else{k+=\'<img srctxt="\'+p.pic+\'" class="c-img c-img6" data-nolog="1"  />\'}k+="</div>"}k+="</td>";k+=\'<td valign="top" class="op-cookbook-nobr">\';if(p.name){k+=\'<span class="\'+q+h+\'">\'+$.subByte(p.name,10)+"</span>"}k+="</td>";k+=\'<td valign="top"><p class="\'+h+f+\'">\';if(p.link){k+=\'<a href="\'+p.link+\'" target="_blank">\'+p.text+"</a>"}else{k+="<span>"+p.text+"</span>"}k+="</p></td>";k+="</tr>"}k+="</table>";k+="</div>";k+="</div>"}return k}function d(g){var k=g.find(".op-cookbook-changetxt");var m=g.find(".op-cookbook-changepic");var j=g.find(".op-cookbook-img");var l=g.find(".op-cookbook-more");var n=g.find(".op-cookbook-less");var f=g.find(".op-cookbook-box");var i=g.find(".op-cookbook-showurl");var h=g.find(".op-cookbook-main");i.removeClass("op-cookbook-hidden");k.on("click",function(){j.addClass("op-cookbook-hidden");k.parent().addClass("op-cookbook-hidden");m.parent().removeClass("op-cookbook-hidden");if(parseInt(h.height())<=200){l.addClass("op-cookbook-hidden");n.addClass("op-cookbook-hidden");f.removeClass("op-cookbook-box-hidden");j.find("img").each(function(o,p){var q=p.getAttribute("srctxt");if(q){p.setAttribute("src",q);p.setAttribute("srctxt","")}})}});m.on("click",function(){j.removeClass("op-cookbook-hidden");k.parent().removeClass("op-cookbook-hidden");m.parent().addClass("op-cookbook-hidden");if(parseInt(h.height())>200){if(f.hasClass("op-cookbook-box-hidden")){l.removeClass("op-cookbook-hidden")}else{n.removeClass("op-cookbook-hidden")}}});if(parseInt(h.height())>200){l.removeClass("op-cookbook-hidden");l.on("click",function(){f.removeClass("op-cookbook-box-hidden");l.addClass("op-cookbook-hidden");n.removeClass("op-cookbook-hidden");j.find("img").each(function(o,p){var q=p.getAttribute("srctxt");if(q){p.setAttribute("src",q);p.setAttribute("srctxt","")}})});n.on("click",function(){f.addClass("op-cookbook-box-hidden");l.removeClass("op-cookbook-hidden");n.addClass("op-cookbook-hidden")})}}d(b.eq(0))})});';   // js字串，不含<script标签
      private static $uiList = 'img';   // 包含的组件，以','分割的字符串，比如'input,text,button'这样
      
      public static function getHeadCss()
      {
         if (!is_string(self::$cssStr))
         {
            return '';
         }
         return self::$cssStr;
      }
      
      public static function getFootJs()
      {
         if (!is_string(self::$jsStr))
         {
            return '';
         }
         return self::$jsStr;
      }
      
      // 返回数组
      public static function getCssUI()
      {
		 if ( empty(self::$uiList) ) return array();

         $arr = @explode(',', self::$uiList);
         if (!is_array($arr))
         {
            $arr = array();
         }
         return $arr;
      }
   }
