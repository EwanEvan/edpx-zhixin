{%extends 'base.tpl'%} {%block name='content'%}<style type="text/css" >.op_cartoon{margin:5px 0 3px 0;font-size:13px}.op_cartoon td{font-size:13px;padding:0 20px 0 0}.op_cartoon_i a{display:block;width:90px;height:118px;position:relative;text-decoration:none}.op_cartoon_i img{width:88px;height:116px;border:1px solid #7493e5}.op_cartoon_i span{position:absolute;bottom:0;left:0;width:100%;filter:alpha(opacity=70);-moz-opacity:.7;-khtml-opacity:.7;opacity:.7;background:#000;height:20px}.op_cartoon_i b{text-align:center;color:#fff;line-height:20{%*i*%}px;font-weight:bold;position:absolute;bottom:0;left:0;width:100%}.op_cartoon_l{width:560px;margin:6px 0}.op_cartoon_l ul,.op_cartoon_l li{margin:0;padding:0}.op_cartoon_l li{list-style:none;width:55px;display:inline-block;*display:inline;zoom:1;line-height:20px;overflow:hidden}.op_cartoon_ta{width:530px;background:#f8f9ff;padding:3px 0;border-top:1px solid #f0eeef;border-bottom:1px solid #f0eeef;color:#666}.op_cartoon_ta span{text-decoration:underline;color:#261cdc;cursor:pointer;white-space:now{%*i*%}rap;zoom:1;display:inline-block;*display:inline;width:103px;text-align:right;line-height:24px}.op_cartoon_ta span.op_cartoon_on{text-decoration:none;color:#000;cursor:default}.op_cartoon_tl ul{display:none}.op_cartoon_close,.op_cartoon_open{font-weight:bold;color:#261cdc;text-decoration:underline;cursor:pointer;margin:6px 0}.op_cartoon_close b,.op_cartoon_open b{background:url(http://www.baidu.com/aladdin/img/newvideotvplay/newvideo_new.png) 0 -24px;height:13px;width:14px;overflow:hidden;float:l{%*i*%}eft;margin:3px 3px 0 0}.op_cartoon_close{display:none}.op_cartoon_close b{background-position:-18px -24px}.op_cartoon_cartoonlinks,.op_cartoon_sitelinks{margin-top:2px;width:530px}.op_cartoon_cartoonlinks a,.op_cartoon_sitelinks a{margin-right:10px;line-height:20px}.op_cartoon_favurl{background-repeat:no-repeat;padding-left:20px}.op_cartoon_ctrl{display:none}.op_cartoon_hr{height:10px;line-height:0;font-size:0;overflow:hidden}.op_cartoon_new{background:0;width:20px;line-height:20px;left:68px;fon{%*i*%}t-weight:normal;color:#f00;display:inline;position:absolute;top:98px}</style>{%$FE_GBVAR.wrapper_prefix%}{%fe_fn_title_prefix%}{%fe_fn_title title="{%$tplData.title%}" url="{%$tplData.url%}"%}{%fe_fn_title_suffix title="{%$tplData.title%}" url="{%$tplData.url%}"%}<div class="op_cartoon"><table class="op_cartoon_i" cellspacing="0"><tr>{%$loop_maxcount=count($tplData.icon)%}{%for $op_loop_count=0 to 4%}{%if $op_loop_count<$loop_maxcount%} <td><a target="_blank" href="{%$tplData.icon[$op_loop_count]['iconlink']%}"><img src="{%$tplData.icon[$op_loop_count]['iconaddress']%}" /><span></span><b>{%$tplData.icon[$op_loop_count]['iconcontent']%}</b>{%if $tplData.icon[$op_loop_count]['iconnew']!=""%}<div class="op_cartoon_new" style="">新!</div>{%/if%}</a></td>{%else%}{%break%}{%/if%}{%/for%}</tr></table>{%if $tplData.link[5]['linkcontent']!=""%}<div class="op_cartoon_l op_cartoon_init"><ul class="op_cartoon_inithtml"></ul></div><div class="op_cartoon_ctrl"><div class="op_cartoon_l op_cartoon_tl"></div><div class="op_cartoon_ta"></div></div><div class="op_cartoon_open OP_LOG_BTN"><b></b>{%$tplData.open|highlight:0%}</div><div class="op_cartoon_close OP_LOG_BTN"><b></b>{%$tplData.close%}</div><div><span style="color:#008000">{%$tplData.showurl%}</span>{%if $tplData.showlamp!=""%} - <a class="op_cartoon_ope
    nlink op_LAMP" target="_blank" href="http://open.baidu.com/">{%$FE_GBVAR.aladdin_txt%}</a>{%/if%}</div>{%/if%}<div class="op_cartoon_cartoonlinks">{%if $tplData.cartoonlinks!=""%}<span><b>{%$tplData.cartoonlinks%}</b></span>{%/if%}{%$loop_maxcount=count($tplData.cartoonlink)%}{%for $op_loop_count=0 to 4%}{%if $op_loop_count<$loop_maxcount%}<span><a target="_blank" href="{%$tplData.cartoonlink[$op_loop_count]['linkurl']%}">{%$tplData.cartoonlink[$op_loop_count]['linkcontent']%}</a></span>{%else%}{%break%}{%/if%}{%/for%}</div>{%if $tplData.sitelink[0]['linkcontent']!=""%}<div class="op_cartoon_sitelinks">{%if $tplData.sitelinks!=""%}<span><b>{%$tplData.sitelinks%}</b></span>{%/if%}{%$loop_maxcount=count($tplData.sitelink)%}{%for $op_loop_count=0 to 4%}{%if $op_loop_count<$loop_maxcount%}<span><a{%if $tplData.sitelink[$op_loop_count]['img']!=""%} style="background-image:url({%$tplData.sitelink[$op_loop_count]['img']%})" class="op_cartoon_favurl"{%/if%} target="_blank" href="{%$tplData.sitelink[$op_loop_count]['linkurl']%}">{%$tplData.sitelink[$op_loop_count]['linkcontent']%}</a></span>{%else%}{%break%}{%/if%}{%/for%}</div>{%/if%}<script type="text/javascript" >
    A.setup({'data':[{%$loop_maxcount=count($tplData.link)%}{%for $op_loop_count=0 to 800%}{%if $op_loop_count<$loop_maxcount%}['{%$tplData.link[$op_loop_count]['linkurl']%}', '{%$tplData.link[$op_loop_count]['linkcontent']%}'], {%else%}{%break%}{%/if%}{%/for%}''], 'urlpre':'{%$tplData.linkurlpre%}', 'linktext':'{%if $tplData.linktext!=""%}{%$tplData.linktext%}{%/if%}'});
</script><script type="text/javascript" > A.init(function() {var _this = this,tl = _this.qq('op_cartoon_tl'),ta = _this.qq('op_cartoon_ta'),init_ul = _this.qq('op_cartoon_inithtml'),init_tl = _this.qq('op_cartoon_init'),init_count = 20,per_count = 100,btn_open = _this.qq('op_cartoon_open'),btn_close = _this.qq('op_cartoon_close'),ctrl = _this.qq('op_cartoon_ctrl'),urlpre = urlpre,cl = _this.qq('op_cartoon_cartoonlinks'),sl = _this.qq('op_cartoon_sitelinks');_this.data.data.pop();var data = _this{%*i*%}.data.data;function init_html() {var html = [];for (var i = 0; i < init_count && i < data.length; i++) {html.push(get_a_html(data[i]));}init_ul.innerHTML = html.join('');if (init_count == 0) {hide(init_tl);}tab_html = [];for (var i = 0, l = Math.ceil(data.length / per_count); i < l; i++) {html = [];var ul = document.createElement('ul');for (var j = i * per_count, dl = data.length; j < (i + 1) * per_count && j < dl; j++) {html.push(get_a_html(data[j]));if (j % 20 == 19 && j < (i + 1) * per_count {%*i*%}- 1) {html.push('<div class="op_cartoon_hr"></div>');}}ul.innerHTML = html.join('');tl.appendChild(ul);var prefix = data[i * per_count][1];var subfix = data[Math.min((i + 1) * per_count, data.length) - 1][1];if (prefix == subfix) {prefix = prefix.match(/[0-9]*/) ? prefix + _this.data.linktext : prefix;tab_html.push('<span class="OP_LOG_BTN">第' + prefix + '</span>');}else {prefix = prefix.replace(/[^0-9]/g, '');subfix = subfix.match(/[0-9]*/) ? subfix + _this.data.linktext : subfix;tab_html.push({%*i*%}'<span class="OP_LOG_BTN">第' + prefix + '~' + subfix + '</span>');}}ta.innerHTML = tab_html.join('');show(tl.getElementsByTagName('ul')[0]);ta.getElementsByTagName('span')[0].className = 'op_cartoon_on OP_LOG_BTN';}function get_a_html(a) {return '<li><a target="_blank" href="' + urlpre + a[0] + '">' + a[1] + _this.data.linktext + '</a></li>';}function init_tab() {var tabs = tl.getElementsByTagName('ul');var tab_links = ta.getElementsByTagName('span');var active_index = 0;var f = function(i,link){%*i*%} {link.onclick = function() {if (active_index == i) return;hide(tabs[active_index]);tab_links[active_index].className = 'OP_LOG_BTN';active_index = i;show(tabs[active_index]);link.className = 'op_cartoon_on OP_LOG_BTN';};};for (var i = 0; i < tabs.length; i++) {f.call(tab_links[i], i, tab_links[i]);}btn_open.onclick = function() {hide(btn_open);hide(init_tl);show(btn_close);show(ctrl);};btn_close.onclick = function() {show(btn_open);init_count != 0 && show(init_tl);hide(btn_close);hide(ctrl);};}{%*i*%}function show(el) {el.style.display = 'block';}function hide(el) {el.style.display = 'none';}init_html();if (data.length > init_count) {init_tab();}else {hide(btn_open);hide(btn_close);}});</script>{%/block%}