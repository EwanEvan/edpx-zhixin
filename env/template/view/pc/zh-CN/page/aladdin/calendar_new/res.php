<?php 
  class CssJs_Util_calendar_new
   {
      private static $cssStr = '.op-calendar-new-box{border:2px solid #57abff;border-right:0;height:366px;position:relative;z-index:1;}.op-calendar-new-year-box,.op-calendar-new-month-box,.op-calendar-new-holiday-box{float:left;}.op-calendar-new-year-box,.op-calendar-new-month-box{margin-right:7px;}.op-calendar-new-year-box{width:80px;}.op-calendar-new-month-box{width:61px;padding:0 22px;position:relative;z-index:1;}.op-calendar-new-holiday-box{width:95px;}.op-calendar-new-select-box{height:26px;float:left;zoom:1;visibility:hidden;}.op-calendar-new-backtoday{float:right;width:52px;}.op-calendar-new-left{padding:10px;width:385px;position:absolute;z-index:1;left:0;}.op-calendar-new-right{color:#fff;text-align:center;margin-left:406px;height:368px;_height:366px;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#55aaff,endColorstr=#73b9ff,grandientType=0);background:#5caeff;background:-webkit-gradient(linear,0 0,0 100%,from(#5af),to(#73b9ff));background:-moz-linear-gradient(top,#5af,#73b9ff);}.op-calendar-new-table-box{float:left;}.op-calendar-new-month-box .c-dropdown2-btn-icon-border{border-color:transparent;_border-color:#fff;background-color:transparent!important;}.op-calendar-new .c-dropdown2 .c-dropdown2-btn-icon{padding-left:0;}.op-calendar-new-prev-month,.op-calendar-new-next-month{position:absolute;top:0;display:block;width:21px;border:1px solid #999;border-bottom-color:#d8d8d8;background:#fafafa;height:24px;text-align:center;line-height:24px;text-decoration:none;color:#7a7a7a;font-weight:bold;font-family:Simsun,Simhei,sans-serif;z-index:205;}.op-calendar-new-prev-month{left:0;border-right-color:#d8d8d8;}.op-calendar-new-next-month{right:0;border-left-color:#d8d8d8;}.op-calendar-new-prev-month:hover,.op-calendar-new-next-month:hover{color:#389cff;border-color:#389cff;border-left:1px solid #389cff;}.op-calendar-new-month-box .c-dropdown2-btn{_text-indent:-2px;}.op-calendar-new-table{width:385px;border-collapse:collapse;border-spacing:0;}.op-calendar-new-table th,.op-calendar-new-table td{width:55px;height:54px;border-top:1px solid #c8cacc;padding:0;}.op-calendar-new-relative{position:relative;width:100%;zoom:1;}.op-calendar-new-table th{height:33px;border-color:#5af;font-weight:normal;font-size:14px;}.op-calendar-new-table-six td{height:45px;}.op-calendar-new-table td a{display:block;width:48px;border-right:1px solid #fff;height:33px;padding:11px 3px 10px;text-align:center;text-decoration:none;line-height:1;white-space:nowrap;overflow:hidden;}.op-calendar-new-table td a *{cursor:pointer;}.op-calendar-new-table-six td a{padding:6px 3px;}.op-calendar-new-table td .op-calendar-new-table-selected,.op-calendar-new-table td .op-calendar-new-table-border,.op-calendar-new-table td a:hover{padding:8px 0 7px;width:48px;border:3px solid #fb0;}.op-calendar-new-table-six td .op-calendar-new-table-selected,.op-calendar-new-table-six td .op-calendar-new-table-border,.op-calendar-new-table-six td a:hover{padding:3px 0;}.op-calendar-new-daynumber{display:block;height:22px;font-size:18px;color:#000;}.op-calendar-new-table-almanac{display:block;color:#999;font-size:12px;}.op-calendar-new-table-festival .op-calendar-new-table-almanac{color:#e02d2d;}th.op-calendar-new-table-weekend,.op-calendar-new-table-weekend .op-calendar-new-daynumber{color:#e02d2d;}.op-calendar-new-table-other-month .op-calendar-new-daynumber,.op-calendar-new-table-other-month .op-calendar-new-table-almanac{color:#bfbfbf;}.op-calendar-new-table-today .op-calendar-new-daynumber,.op-calendar-new-table-today .op-calendar-new-table-almanac{color:#fff;}.op-calendar-new-table-today{background:#fb0;}.op-calendar-new-table td .op-calendar-new-table-rest,.op-calendar-new-table td .op-calendar-new-table-work{background:#fff0f0;}.op-calendar-new-table td .op-calendar-new-table-work{background:#f5f5f5;}.op-calendar-new-table-holiday-sign{position:absolute;left:0;top:0;display:block;width:15px;height:15px;color:#fff;background:#f43;text-align:left;text-indent:1px;line-height:14px;*line-height:18px;overflow:hidden;}.op-calendar-new-table-work .op-calendar-new-table-holiday-sign{background:#969799;}.op-calendar-new-table-other-month .op-calendar-new-table-holiday-sign{filter:alpha(opacity = 50);opacity:.5;}.op-calendar-new-right-date{height:48px;line-height:48px;}.op-calendar-new-right-day{position:relative;width:75px;height:75px;margin:0 auto;line-height:76px;font-size:52px;background:#fb0;border-radius:3px;box-shadow:1px 2px 5px rgba(0,0,0,0.1),-1px 2px 5px rgba(0,0,0,0.1);}.op-calendar-new-right-lunar span{display:block;}.op-calendar-new-right-almanac{margin:10px auto 0;width:110px;border-top:2px solid #94c9ff;padding-top:10px;line-height:18px;height:155px;}.op-calendar-new-right-almanac span{display:block;width:55px;float:left;white-space:nowrap;overflow:hidden;}.op-calendar-new-right-almanac i{display:block;width:30px;height:30px;margin:0 auto 5px;}.op-calendar-new-right-almanac i,.op-calendar-hover-suit i,.op-calendar-hover-avoid i{font-style:normal;font:24px/30px \'Microsoft Yahei\';text-shadow:2px 2px 1px rgba(0,0,0,0.1);text-align:center;color:#fff;}.op-calendar-new-right-hover .op-calendar-hover-almanac{display:block;}.op-calendar-hover-almanac{display:none;position:absolute;z-index:100;width:210px;right:-231px;top:198px;background:#fff;padding:15px 10px;border:1px solid #5fafff;color:#333;box-shadow:4px 4px rgba(0,0,0,0.05);z-index:100;}.op-calendar-almanac-arrow{position:absolute;top:20px;left:-11px;font:22px Simsun;color:#fff;text-shadow:0 -1px rgba(0,0,0,0.05);z-index:1;}.op-calendar-hover-suit,.op-calendar-hover-avoid{padding-left:40px;position:relative;display:block;min-height:30px;_height:30px;text-align:left;}.op-calendar-hover-suit i,.op-calendar-hover-avoid i{display:block;position:absolute;top:0;left:0;width:30px;height:30px;background:#67b3ff;}.op-calendar-hover-avoid i{background:#ff5040;}.op-calendar-new-holidaytip{display:none;position:relative;background:#f7f7f7;padding:10px 10px 10px 0;}.op-calendar-new-holidaytip p{margin-left:35px;}.op-calendar-new-holidaytip-icon{position:absolute;left:0;top:10px;padding-left:10px;width:20px;height:20px;text-align:center;font:20px/20px Simsun;color:#61b0ff;}.op-calendar-new-holidaytip-icon i{font-style:normal;font:14px/20px Tahoma,Arial;_line-height:16px;position:absolute;width:20px;height:20px;right:0;top:0;}.op-calendar-new-holidaystyle .op-calendar-new-box,.op-calendar-new-red-bg .op-calendar-new-box{border-color:#cb1c18;}.op-calendar-new-holidaystyle .op-calendar-new-right,.op-calendar-new-red-bg .op-calendar-new-right{color:#fff;text-align:center;margin-left:406px;height:368px;_height:366px;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#cb1c18,endColorstr=#f44f23,grandientType=0);background:#cb1c18;background:-webkit-gradient(linear,0 0,0 100%,from(#cb1c18),to(#f44f23));background:-moz-linear-gradient(top,#cb1c18,#f44f23);}.op-calendar-new-holidaystyle .op-calendar-new-right-almanac,.op-calendar-new-red-bg .op-calendar-new-right-almanac{border-top-color:#eb7563;}.op-calendar-new-holidaystyle .op-calendar-new-table th,.op-calendar-new-red-bg .op-calendar-new-table th{border-color:#f55c4e;}.op-calendar-new-holidaystyle .op-calendar-hover-almanac,.op-calendar-new-red-bg .op-calendar-hover-almanac{border-color:#cb1c18;}';  // css字串，不含<style>和</style>标签
      private static $jsStr  = 'A.merge("calendar_new",function(){A.setup(function(){var e=A.baidu,p=this,s,r,b,v=p.data.curDate,g=p.data.selectDate.join("-"),f=6018,w=p.data.data,j=w.showHoliday,d=p.find(".op-calendar-new-table-box")[0],t=p.find(".op-calendar-new-right")[0],c=p.find(".op-calendar-new-select-box")[0],o=p.find(".op-calendar-new-backtoday")[0],n=p.find(".op-calendar-new-holidaytip")[0],u=p.find(".op-calendar-new-prev-month")[0],a=p.find(".op-calendar-new-next-month")[0],m=p.find(".op-calendar-new")[0],h,q,l,k="op-calendar-new-holidaystyle";l=function(x){return x.split(/-0?/).join("-")};if(w.ticketDay){w.ticketDay[0].net-=1;w.ticketDay[0].station-=1;if(w.specialTicket){h={};$.each(w.specialTicket,function(y,x){h[x.date]=x.tip})}}q=function(y,x){return y.replace(/#{([^}]+)}/g,function(B,z){return x[z]||""})};A.use("dropdown21",function(){A.use("lunar",function(){var y=A.ui.lunar,C,z,x,B;B=function(E){var D=$(m);D.toggleClass(k,!!E)};x=function(E){var D;if(typeof E==="string"){D=E.split(/-0?/);E=new Date(D[0],D[1]-1,D[2])}else{D=[E.getFullYear(),E.getMonth()+1,E.getDate()]}return{year:D[0],month:D[1],date:D[2],yearMonth:D.slice(0,2).join("-"),dateStr:D.join("-"),dateStrZero:[D[0],("0"+D[1]).slice(-2),("0"+D[2]).slice(-2)].join("-"),Date:E}};g=x(g);z=({init:function(){var D=g;this.set(w,D.year,D.yearMonth);return this},set:function(G,F,E){var D=function(H){return H||[]};this.setHoliday(D(G.holidaylist),F);this.setAlmanac(D(G.almanac),E);this.setHolidayDateList(D(G.holiday),E);this.setMod(D(G.day),E)},_holiday:{},getHoliday:function(D){return this._holiday[D]},setHoliday:function(H,I){var F={},G,D,E;if(this._holiday[I]){return}for(G=0,D=H.length;G<D;G++){F[H[G].name]={}}this._holiday[I]=F},_holidayDateList:{},_festival:{},setHolidayDateList:function(K,D){var L={},N=D.split("-")[0],F,I,H,G,E,J,M;if(this._holidayDateList[D]){return}if(!K.length&&K.festival){K=[K]}!this._holiday[N]&&(this._holiday[N]={});!this._festival[N]&&(this._festival[N]={});for(I=0,E=K.length;I<E;I++){F=K[I];J=this._holiday[N][F.name]||{};if(x(F.festival).year==N){$.extend(J,F);this._festival[N][F.festival]=F.name}F=F.list;for(H=0,G=F.length;H<G;H++){L[F[H].date]=F[H].status;F[H]=x(F[H].date).dateStrZero}J.startday=l(F.sort()[0])}this._holidayDateList[D]=L},getHolidayDateList:function(D){return this._holidayDateList[D]},getFestival:function(D){return this._festival[D]},_almanac:{},getAlmanac:function(D){return this._almanac[D]},setAlmanac:function(G,D){if(this._almanac[D]){return}var H=this._almanac[D]={},F,E;for(F=0,E=G.length;F<E;F++){H[l(G[F].date)]={suit:G[F].suit.replace(/\\.$/,"").split(".").slice(0,15),avoid:G[F].avoid.replace(/\\.$/,"").split(".").slice(0,15)}}},_mod:{},setMod:function(D){var G=this._mod,F,E;for(F=0,E=D.length;F<E;F++){G[D[F].date]=D[F]}},getMod:function(){return this._mod},getData:function(D,E){if(this._almanac[D]){E.call(this)}else{D=D.split("-");this.ajax(D[0]+"年"+D[1]+"月",E,function(){return D.join("-")})}},getHolidayData:function(F,E,G){var D=this.getHoliday(F);if(D&&D[E].festival){G.call(this)}else{this.ajax(F+"年"+E,G,function(K){var I=K.holiday,J,H;if(I&&!I.length){I=[I]}for(J=0,H=I.length;J<H;J++){if(I[J].name==E){return x(I[J].festival).yearMonth}}})}},ajax:function(F,G,E){var D=this;p.ajax(F,f,{success:function(I){var H;I=I[0]||{};H=E(I);if(!H){return}D.set(I,H.split("-")[0],H);G.call(D)}})}}.init());C=function(ae,Q,P){var ab,ac,N,O="op-calendar-new-table-rest",Z="op-calendar-new-table-work",L="op-calendar-new-table-weekend",M="op-calendar-new-table-festival",K="op-calendar-new-table-today",E="op-calendar-new-table-other-month",D="op-calendar-new-table-selected",W="op-calendar-new-table-border",S,V,I,J,U,ad,F,H,R=function(){},Y,G,aa,X="<tr>{一}{二}{三}{四}{五}{!六}{!日}</tr>",T=1000*24*60*60;X=X.replace(/\\{\\!?|\\}/g,function(af){return af=="{"?"<th>":(af=="{!"?\'<th class="\'+L+\'">\':"</th>")});S=function(af){return("0"+af).slice(-2)};G=function(ai,af){var ah=i=0,ag;while(ai.charCodeAt(i)){ag=ai.charCodeAt(i)>255?2:1;if((ag+ah)>af){return ai.slice(0,--i)+"..."}ah+=ag;i++}return ai.slice(0,i)};U=function(af){N=af.year;ac=af.month;ab=af.date};ae=l(ae);ad=function(ar){var aj=ar.Date,al=y(aj),aq,an=z.getMod()[ar.dateStr]||{},ah=z.getAlmanac(ar.yearMonth)||{},ai=ah[ar.dateStr]||{},am,ap=ai.suit||[],ag=ai.avoid||[],ak=\'<p class="op-calendar-new-right-date">#{date}</p>                            <p class="op-calendar-new-right-day">#{day}</p>                            <p class="op-calendar-new-right-lunar c-gap-top-small">                              <span>#{lunarMonth}</span><span>#{lunarYear}</span><span>#{lunarDate}</span>                            </p>\',ao=\'<div class="op-calendar-new-right-almanacbox">                              <p class="op-calendar-new-right-almanac c-clearfix">                                <span class="op-calendar-new-right-suit"><i>宜</i>#{suit}</span>                                <span class="op-calendar-new-right-avoid"><i>忌</i>#{avoid}</span>                              </p>                              <p class="op-calendar-hover-almanac">                                <span class="op-calendar-almanac-arrow">◆</span>                                <span class="op-calendar-hover-suit"><i>宜</i>#{suitAll}</span>                                <span class="op-calendar-hover-avoid c-gap-top"><i>忌</i>#{avoidAll}</span>                              </p>                            </div>\',af;aq=function(at,au){return at&&at.length?at.slice(0,au).join("<br />"):""};af=q(ak,{date:ar.dateStrZero+" 星期"+al.cnDay,day:ar.date,lunarMonth:an.lunarmonth||(al.lMonth.replace("十二","腊")+"月"+al.lDate),lunarYear:an.lunaryear||(al.gzYear+"年 【"+al.animal+"年】"),lunarDate:an.lunardate||(al.gzMonth+"月 "+al.gzDate+"日")});if(w.showTicket){af+=V(ar);t.innerHTML=af;return}af+=q(ao,{suit:aq(ap,5),avoid:aq(ag,5),suitAll:ap.join("、"),avoidAll:ag.join("、")});t.innerHTML=af;if(ap.length+ag.length>0){am=p.find(".op-calendar-new-right-almanacbox");am.on("mouseover",function(){clearTimeout(s);s=setTimeout(function(){am.addClass("op-calendar-new-right-hover")},300)});am.on("mouseout",function(){clearTimeout(s);s=setTimeout(function(){am.removeClass("op-calendar-new-right-hover")},100)})}};V=function(ao){var al=\'<div class="op-calendar-new-right-ticket c-gap-top" #{advertBg}>                        <p>                        <strong>电话和网络订票：</strong>                        <span class="op-calendar-new-right-ticketDay">可预订#{netTicketDay}车票</span>                        <span class="op-calendar-new-right-ticketLunar">农历#{netLunar}</span>                        </p>                        <p class="op-calendar-new-right-ticketstat">                        <strong>车站代售点订票：</strong>                        <span class="op-calendar-new-right-ticketDay">可预订#{statTicketDay}车票</span>                        <span class="op-calendar-new-right-ticketLunar">农历#{statLunar}</span>                        </p>                        #{advertAnchor}\',ai=w.ticketDay[0],ag=ao.Date,af=new Date(ag.getTime()+T*ai.net),am=y(af),ak=new Date(ag.getTime()+T*ai.station),aj=y(ak),ah="",an="";if(w.advert){ah=\'style="background:url(\'+w.advert[0].img+\') no-repeat bottom center;"\';an=\'<a href="\'+w.advert[0].url+\'" target="_blank" class="op-calendar-new-ticket-advert"></a>\'}return q(al,{netTicketDay:"<b>"+S(af.getMonth()+1)+"</b>月<b>"+S(af.getDate())+"</b>日",netLunar:am.lMonth.replace("十二","腊")+"月"+am.lDate,statTicketDay:"<b>"+S(ak.getMonth()+1)+"</b>月<b>"+S(ak.getDate())+"</b>日",statLunar:aj.lMonth.replace("十二","腊")+"月"+aj.lDate,advertBg:ah,advertAnchor:an})};I=function(ag,au,af){var az=[],am=z.getHolidayDateList(x(af).yearMonth),av=z.getMod(),ar=1,aq="",ax,aw,ak,al,aj,ap,at,ay,ao="",ah="",ai,an;if((au-ag)/T<28){au=new Date(au.getTime()+T*7)}at=\'<td>                                  <div class="op-calendar-new-relative">                                    <a href="javascript:;" #{title} data-click="{fm:\\\'beha\\\'}" hidefocus="true" class="#{classname}" date="#{date}">                                      #{rest}                                      <span class="op-calendar-new-daynumber">#{day}</span>                                      <span class="op-calendar-new-table-almanac">#{almanac}</span>                                      <span class="op-calendar-new-table-ticket #{ticketBlue}">#{ticketTime}</span>                                    </a>                                  </div>                                </td>\';while(ag<=au){if(ar>42){break}ak=x(ag);aw=[];ap="";ah="";ao="";al=y(ag);aj=al.festival();ax=av[ak.dateStr]||{};if(am[ak.dateStr]){ap=\'<span class="op-calendar-new-table-holiday-sign">#{text}</span>\';if(am[ak.dateStr]=="1"){aw.push(O);ap=q(ap,{text:"休"})}else{if(am[ak.dateStr]=="2"){aw.push(Z);ap=q(ap,{text:"班"})}else{aw.push(O);ap=""}}}if((ar+1)%7==0||ar%7==0){aw.push(L)}if(aj.length||al.term||(ax.red&&ax.red=="1")){aw.push(M)}if(ak.dateStr==ae){if(am[ak.dateStr]){aw.push(W)}else{aw.push(K)}}if(ak.month!=ac){aw.push(E)}if(ak.dateStr==af){aw.push(D)}ar%7==1&&az.push("<tr>");ay=ax.tableword||(aj.length?aj[0].desc.replace(/国际|世界/,""):(al.term||al.lDate));an=G(ay,8);if(w.ticketDay&&(ak.Date>x(ae).Date||ak.dateStr==ae)){ai=new Date(ak.Date.getTime()+T*w.ticketDay[0].net);ao="票 "+[S(ai.getMonth()+1),S(ai.getDate())].join(".");ah="op-calendar-new-ticket-blue";if(h&&ak.dateStr in h){ao="票 "+h[ak.dateStr];ah="op-calendar-new-ticket-yellow"}}az.push(q(at,{classname:aw.join(" "),day:ak.date,almanac:an,date:ak.dateStr,rest:ap,title:an==ay?"":(\' title="\'+ay+\'"\'),ticketTime:ao,ticketBlue:ah}));ar%7==0&&az.push("</tr>");ag=new Date(T+ag.getTime());ar++}if(ar>36){aq=" op-calendar-new-table-six"}return\'<table class="op-calendar-new-table\'+aq+\'">\'+X+az.join("")+"</table>"};J=function(ah,ag){var ak,aj,ai,af;ak=new Date(ah.getFullYear(),ah.getMonth(),1);aj=new Date(ah.getFullYear(),ah.getMonth()+1,1);aj=new Date(aj.getTime()-T);if(ag){ak=x(ag).Date;aj=new Date(ak.getTime()+T*28)}return{startDate:new Date(ak.getTime()-T*((ak.getDay()==0?7:ak.getDay())-1)),endDate:new Date(aj.getTime()+T*(7-(aj.getDay()==0?7:aj.getDay())))}};H=function(ah,ai){var ag=x(ah),aj=x([N,ac,ab].join("-")),al,ak,af;z.getData(ag.yearMonth,function(){ak=z.getFestival(ag.year);af=ak[ag.dateStr]||null;if(ag.year!=N||ag.month!=ac){al=J(ag.Date,ai);U(ag);Q.innerHTML=I(al.startDate,al.endDate,ah);F=p.find("."+D)[0];R(ag,aj,ai)}U(ag);B(af);ad(ag);aa(z.getHoliday(N)[af])})};aa=function(ag){var af;if(!ag||(!ag.desc&&!ag.rest)){P.style.display="none"}else{af=\'<span class="op-calendar-new-holidaytip-icon">○<i>!</i></span>                            	<p>#{desc}</p>                            	<p>#{rest}</p>                            </span>\';P.style.display="block";P.innerHTML=q(af,{desc:ag.desc,rest:ag.rest})}};$(Q).delegate("a","click",function(af){af.preventDefault();Y(this);H(this.getAttribute("date"))});Y=function(af){F&&$(F).removeClass(D);af&&$(af).addClass(D);F=p.find("."+D)[0]};return{getDate:function(){return x([N,ac,ab].join("-"))},nextMonth:function(){var af,ah=this.getDate(),ak,aj,ag,ai;ak=new Date(ah.year,parseInt(ah.month,10)+1,1);aj=new Date(ak-T).getDate();ai=ah.date<aj?ah.date:aj;ag=x(new Date(ah.year,ah.month,ai));this.setDate(ag.dateStr)},prevMonth:function(){var ai,ag=this.getDate(),af,ah;ai=new Date((new Date(ag.year,ag.month-1,1)-T)).getDate();af=x(new Date(ag.year,ag.month-2,ag.date<ai?ag.date:ai));this.setDate(af.dateStr)},set:function(ah,ai){var ag=this.getDate(),af;ag[ah]=ai;af=x([ag.year,ag.month,ag.date].join("-"));if(af.Date.getDate()!=af.date){af={dateStr:af.yearMonth+"-1"}}H(af.dateStr);return this},setDate:function(af){H(af);return this},setHoliday:function(ag,ah){var af=this;z.getHolidayData(ah,ag,function(){var ai=this.getHoliday(ah)[ag];if(!ai){af.setHoliday(ag,x(ae).year);return}ac=null;H(l(ai.festival),l(ai.startday),true);aa(ai)})},backToday:function(){var af=window.event||{};af.returnValue=false;ac=null;this.setDate(ae);return this},addMonthChangeEvent:function(ai,af,ah){var ag=this;if(typeof ai=="function"){R=function(aj,al,ak){ai.call(ag,aj,al,ak)}}return this}}};(function(){var H=C(v,d,n),Q=x(v).year,S=z.getHoliday(g.year),R=j,O=S[R];b=A.ui.dropdown21;var K,J,E,D,T,I,L={value:"default",text:"假期安排",selected:1},P,G,N,F,M;if(R){H.setHoliday(R,x(O.festival).year,O.startday)}else{H.setDate(g.dateStr)}K=function(ab,V,aa,X,Z){var Y,U,W=[];if(Object.prototype.toString.call(ab)!="[object Array]"){for(Y=ab.min;Y<=ab.max;Y++){W.push({value:Y,text:Y+ab.unit,selected:Y==V})}}else{W=ab}return b(W,{appendTo:p.find("."+aa)[0],number:12,onchange:X,onopen:Z})};E=function(W){var U,V;if(D){return}D=true;U=W.index;if(U==0){return}V=$(".c-dropdown2-menu-inner",T)[0];V.scrollTop=0;r=setInterval(function(){var X;if(V.scrollTop==0||!$(V).hasClass("opui-scroll-ctrl-content")){return}clearInterval(r);X=$(".opui-scroll-ctrl-scroll",V.parentNode)[0];r=setInterval(function(){if(X.style.cssText==""){return}V.scrollTop=U*26;clearInterval(r)},10)},10)};N=K({min:1900,max:2050,unit:"年"},g.year,"op-calendar-new-year-box",function(U){H.set("year",U.item.value)},E);T=p.find(".op-calendar-new-year-box")[0];I=$(".c-dropdown2-menu",T)[0];I.style.left="-9999px";N.open();N.close();I.style.left="0";F=K({min:1,max:12,unit:"月"},g.month,"op-calendar-new-month-box",function(U){H.set("month",U.item.value)});G=function(V){var U=V.item.value;if(U=="default"){return}H.setHoliday(U,N.getValue())};M=K([L],"default","op-calendar-new-holiday-box",G);P=function(V){M.removeAll();M.add(L);for(var U in V){if(V.hasOwnProperty(U)){M.add({value:U,text:U})}}};P(S);M.setValue(R);c.style.visibility="visible";H.addMonthChangeEvent(function(V,Y,X){var W=this.getDate(),U=N.getLength();F.setIndex(W.month-1);if(W.year-1900>(U-1)){N.add({value:U+1900,text:U+1900+"年"})}N.setIndex(W.year-1900);if(!X){M.setIndex(0)}if(V.year!=Y.year){P(z.getHoliday(V.year))}});$(o).click(function(){H.backToday()});$(a).click(function(){H.nextMonth()});$(u).click(function(){H.prevMonth()})})()})});this.dispose=function(){clearTimeout(s);clearInterval(r);b&&b.dispose&&b.dispose()}})});';   // js字串，不含<script标签
      private static $uiList = 'btn,dropdown2';   // 包含的组件，以','分割的字符串，比如'input,text,button'这样
      
      public static function getHeadCss()
      {
         if (!is_string(self::$cssStr))
         {
            return '';
         }
         return self::$cssStr;
      }
      
      public static function getFootJs()
      {
         if (!is_string(self::$jsStr))
         {
            return '';
         }
         return self::$jsStr;
      }
      
      // 返回数组
      public static function getCssUI()
      {
		 if ( empty(self::$uiList) ) return array();

         $arr = @explode(',', self::$uiList);
         if (!is_array($arr))
         {
            $arr = array();
         }
         return $arr;
      }
   }
