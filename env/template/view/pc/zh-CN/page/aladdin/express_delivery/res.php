<?php 
  class CssJs_Util_express_delivery
   {
      private static $cssStr = '.op_express_delivery_table td{padding-bottom:10px;}.op_express_delivery_bottom_content{padding-top:10px;}.op_express_delivery_main{display:none;border-top:solid 1px #f5f5f5;}.op_express_delivery_main_container{position:relative;}.op_express_delivery_main_content{height:280px;overflow:hidden;position:relative;}.op_express_delivery_container{font-size:12px;}.op_express_delivery_lable{padding-top:5px;}.op_express_delivery_timeline_box li{list-style:none;border-bottom:solid 1px #f5f5f5;width:500px;overflow:hidden;}.op_express_delivery_timeline_time{float:left;height:34px;border-left:solid 1px #ececec;padding-top:16px;width:53px;}.op_express_delivery_timeline_circle{width:55px;float:left;display:inline-block;position:relative;overflow:hidden;background-color:#fff;left:-18px;margin-top:17px;}.op_express_delivery_timeline_circle_red,.op_express_delivery_timeline_circle_blue{background-image:url(http://www.baidu.com/aladdin/img/express_delivery/dout.png);}.op_express_delivery_timeline_circle_red{background-position:0 0;}.op_express_delivery_timeline_circle_blue{background-position:-14px 0;}.op_express_delivery_timeline_new .op_express_delivery_timeline_info{color:#f54040;font-weight:bold;}.op_express_delivery_timeline_new .op_express_delivery_timeline_circle{left:-18px;margin-top:-10px;padding-top:20px;}.op_express_delivery_bottom_content{border-top:solid 1px #f5f5f5;}.op_express_delivery_bottom_content .c-span-last{float:left;}.op_express_delivery_timeline_title{padding:10px;margin-left:15px;float:left;border-left:solid 2px #ececec;}.op_express_delivery_timeline_info{float:left;width:390px;margin-left:-10px;}.op_express_delivery_footer{height:18px;}.op_express_delivery_footer a,.op_express_delivery_footer a:hover{color:#999;text-decoration:underline;}.op_express_delivery_footer a{text-decoration:none;}.op_express_delivery_footer_source{float:right;height:18px;line-height:18px;color:#999;padding-left:62px;background-repeat:no-repeat;display:inline-block;}.op_express_delivery_dropdown_container{width:188px;}.op_express_delivery_dropdown_container .opui-scroll-onwheel{position:relative;}.op_express_delivery_dropdown_container .c-dropdown2-option i,.op_express_delivery_dropdown_container .c-dropdown2-btn i{display:inline-block;background:url(http://www.baidu.com/aladdin/img/express_delivery/kuaidiicon.png) no-repeat 0 0;width:16px;height:16px;vertical-align:text-bottom;font-style:normal;overflow:hidden;position:relative;margin-top:4px;}.op_express_delivery_dropdown_container .c-dropdown2-common .c-dropdown2-option,.op_express_delivery_dropdown_container .c-dropdown2 .c-dropdown2-btn{padding-left:5px;height:24px;line-height:24px;}.op_express_delivery_errro_msg,.op_express_delivery_loading{text-align:center;}.op_express_delivery_loading{margin:35px auto;}.op_express_delivery_errro_msg{display:none;margin:51px auto;}.op_express_delivery_buttons{height:25px;}';  // css字串，不含<style>和</style>标签
      private static $jsStr  = 'A.merge("express_delivery",function(){A.setup(function(){var s=this,C=false,x,y,r=s.find(".op_express_delivery_loading").eq(0),m=s.find(".op_express_delivery_main").eq(0),h=s.find(".op_express_delivery_errro_msg").eq(0),k=s.find(".op_express_delivery_timeline_box").eq(0),b=s.find(".op_express_delivery_bottom_content").eq(0),w=s.find(".op_express_delivery_footer_source").eq(0),q=s.find(".op_express_delivery_submit").eq(0),D=s.find(".op_express_delivery_dropdown").get(0),E=s.find(".op_express_delivery_main_content").get(0),F=s.find(".op_express_delivery_input_nu").get(0),c=\'<span style="color:#999">#{0}</span>\',e=\'<i class="c-gap-right-small" style="background-position:0 -#{0}px"></i>#{1}\',o=\'<li class="op_express_delivery_timeline_new c-clearfix"><div class="op_express_delivery_timeline_title"><div class="op_express_delivery_timeline_circle op_express_delivery_timeline_circle"><i class="c-icon op_express_delivery_timeline_circle_red"></i><i class="c-text c-text-danger c-text-mult c-gap-left-small">最新</i></div><div class="op_express_delivery_timeline_info">#{0}<br>#{1}</div></div></li>\',u=\'<li class="op_express_delivery_timeline_label c-clearfix"><div class="op_express_delivery_timeline_title"><div class="op_express_delivery_timeline_circle"><i class="c-icon op_express_delivery_timeline_circle_blue"></i></div><div class="op_express_delivery_timeline_info">#{0}<br>#{1}</div></div></li>\',p=\'<div class="c-span3"><img src="#{0}" class="c-img c-img3"></div><div class="c-span21 c-span-last"><div class="c-gap-bottom-small"><strong>#{1}</strong></div><div class="c-gap-bottom-small">官网地址：<a href="#{2}" target="_blank">#{3}</a></div><div class="c-gap-bottom-small">客服电话：#{4}</div><div class="op_express_delivery_buttons">\',i=\'<a target="_blank" class="c-btn c-btn-mini c-gap-right" href="#{0}">#{1}</a>\',a=function(){r.show()},n=function(){r.hide()},t=function(){m.show()},f=function(){m.hide()},d=function(G){h.html(G).show();f();n()},g=function(){h.hide()};var v=function(G){for(var H=0;H<s.data.kuaidiOptions.length;H++){if(G==s.data.kuaidiOptions[H].code){y.setValue(s.data.kuaidiOptions[H].code);$(y.t().btn).html($.format(e,parseInt(s.data.kuaidiOptions[H].icon)*20,s.data.kuaidiOptions[H].title))}}};var B=function(K){var H=[],M=K.info.context;for(var I=0;I<M.length;I++){var G=M[I],L=new Date(parseInt(G.time)*1000);if(!I){H.push($.format(o,L.toLocaleString(),G.desc))}else{H.push($.format(u,L.toLocaleString(),G.desc))}}k.html(H.join(""));var J=k.height();if(J<=280){$(E).css({height:(k.height()-1)+"px"})}};var z=function(J){var H="",G=J.company.auxiliary;H+=$.format(p,J.company.icon.normal,J.company.fullname,J.company.website.url,J.company.website.title,J.company.tel);for(var I=0;I<G.length;I++){H+=$.format(i,G[I].url,G[I].title)}H+="</div></div>";b.html(H)};updateSource=function(G){w.css({"background-image":"url("+G.logo+")"}).attr({href:G.url}).html(G.title)};var j=function(G,H){a();f();g();$.ajax({url:"http://api.open.baidu.com/pae/channel/data/asyncqury?cb=?"+s.data.args,dataType:"jsonp",timeout:5000,data:{com:G,nu:H},error:function(I,K,J){d("：(&nbsp;抱歉，查询出错，请重试或点击标题查看快递物流详情。")},success:function(I){if(C){return}n();switch(I.status){case"0":if(I.data.info&&I.data.info.context&&I.data.company&&I.data.source){t();g();B(I.data);z(I.data);x.render();v(I.data.info.com);updateSource(I.data.source)}else{d("：(&nbsp;抱歉，查询出错，请重试或点击标题查看快递物流详情。")}break;case"-3":d("：(&nbsp;您好，该快递单号暂无物流进展，请稍后再试。");break;default:d("：(&nbsp;抱歉，查询出错，请重试或点击标题查看快递物流详情。");break}}})};var l=function(){if(s.data.com){$(y.t().btn).html($.format(e,s.data.currentIconPos,s.data.currentTitle))}else{$(y.t().btn).html($.format(c,"自动匹配快递公司"))}q.click(function(){j(y.getValue(),F.value)});if(s.data.displayStrategy=="normal"){j(s.data.com,s.data.nu)}};A.use("scrollbarv",function(){x=A.ui.scrollbarv({content:E})});A.use("dropdown21",function(){y=A.ui.dropdown21(D,{onchange:function(G){if($(G.target).is("i")){$(y.t().btn).html($(G.target).parents(".c-dropdown2-option").html())}else{$(y.t().btn).html($(G.target).html())}},number:12});l()});this.dispose=function(){C=true,x&&x.dispose&&x.dispose();y&&y.dispose&&y.dispose()}})});';   // js字串，不含<script标签
      private static $uiList = 'btn,input,dropdown2';   // 包含的组件，以','分割的字符串，比如'input,text,button'这样
      
      public static function getHeadCss()
      {
         if (!is_string(self::$cssStr))
         {
            return '';
         }
         return self::$cssStr;
      }
      
      public static function getFootJs()
      {
         if (!is_string(self::$jsStr))
         {
            return '';
         }
         return self::$jsStr;
      }
      
      // 返回数组
      public static function getCssUI()
      {
		 if ( empty(self::$uiList) ) return array();

         $arr = @explode(',', self::$uiList);
         if (!is_array($arr))
         {
            $arr = array();
         }
         return $arr;
      }
   }
